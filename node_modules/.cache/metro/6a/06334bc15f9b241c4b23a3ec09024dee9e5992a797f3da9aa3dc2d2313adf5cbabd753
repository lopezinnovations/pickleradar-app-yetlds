{"dependencies":[{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":1},"end":{"line":2,"column":65,"index":66}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":36,"index":103}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../app/integrations/supabase/client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":104},"end":{"line":4,"column":84,"index":188}}],"key":"6GXn7PAkjfLd/4QLcmmI0alLt58=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useMessagesQuery = useMessagesQuery;\n  var _tanstackReactQuery = require(_dependencyMap[0], \"@tanstack/react-query\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _appIntegrationsSupabaseClient = require(_dependencyMap[2], \"../app/integrations/supabase/client\");\n  const MESSAGES_LIMIT = 50;\n  async function fetchConversations(userId) {\n    console.log('useMessagesQuery: Fetching conversations for user:', userId);\n    if (!(0, _appIntegrationsSupabaseClient.isSupabaseConfigured)()) {\n      console.log('useMessagesQuery: Supabase not configured');\n      return [];\n    }\n    try {\n      // OPTIMIZED: Fetch direct messages WITHOUT embedded joins\n      const {\n        data: messages,\n        error: messagesError\n      } = await _appIntegrationsSupabaseClient.supabase.from('messages').select('id, sender_id, recipient_id, content, created_at, read').or(`sender_id.eq.${userId},recipient_id.eq.${userId}`).order('created_at', {\n        ascending: false\n      }).limit(MESSAGES_LIMIT);\n      if (messagesError && messagesError.code !== 'PGRST116') {\n        console.error('useMessagesQuery: Error fetching messages:', messagesError);\n      }\n      console.log('useMessagesQuery: Fetched', messages?.length || 0, 'direct messages');\n\n      // OPTIMIZED: Fetch user details separately\n      const uniqueUserIds = new Set();\n      (messages || []).forEach(msg => {\n        if (msg.sender_id !== userId) uniqueUserIds.add(msg.sender_id);\n        if (msg.recipient_id !== userId) uniqueUserIds.add(msg.recipient_id);\n      });\n      const userDetailsMap = new Map();\n      if (uniqueUserIds.size > 0) {\n        const {\n          data: userDetails\n        } = await _appIntegrationsSupabaseClient.supabase.from('users').select('id, first_name, last_name, pickleballer_nickname').in('id', Array.from(uniqueUserIds));\n        (userDetails || []).forEach(u => {\n          userDetailsMap.set(u.id, u);\n        });\n      }\n\n      // Fetch group chats\n      const {\n        data: userGroups,\n        error: userGroupsError\n      } = await _appIntegrationsSupabaseClient.supabase.from('group_members').select('group_id').eq('user_id', userId).limit(MESSAGES_LIMIT);\n      if (userGroupsError && userGroupsError.code !== 'PGRST116') {\n        console.error('useMessagesQuery: Error fetching user groups:', userGroupsError);\n      }\n      console.log('useMessagesQuery: User is member of', userGroups?.length || 0, 'groups');\n      let groupConversations = [];\n      if (userGroups && userGroups.length > 0) {\n        const groupIds = userGroups.map(g => g.group_id);\n        const {\n          data: groups,\n          error: groupsError\n        } = await _appIntegrationsSupabaseClient.supabase.from('group_chats').select('id, name, created_at').in('id', groupIds);\n        if (groupsError && groupsError.code !== 'PGRST116') {\n          console.error('useMessagesQuery: Error fetching groups:', groupsError);\n        } else {\n          console.log('useMessagesQuery: Fetched', groups?.length || 0, 'group details');\n\n          // Fetch muted conversations\n          const {\n            data: mutes,\n            error: mutesError\n          } = await _appIntegrationsSupabaseClient.supabase.from('conversation_mutes').select('conversation_type, conversation_id, muted_until').eq('user_id', userId);\n          if (mutesError && mutesError.code !== 'PGRST116') {\n            console.log('useMessagesQuery: Error fetching mutes (non-critical):', mutesError);\n          }\n          const mutesMap = new Map();\n          (mutes || []).forEach(mute => {\n            const key = `${mute.conversation_type}:${mute.conversation_id}`;\n            const isMuted = !mute.muted_until || new Date(mute.muted_until) > new Date();\n            mutesMap.set(key, isMuted);\n          });\n          for (const group of groups || []) {\n            const {\n              data: lastMessages,\n              error: lastMsgError\n            } = await _appIntegrationsSupabaseClient.supabase.from('group_messages').select('content, created_at').eq('group_id', group.id).order('created_at', {\n              ascending: false\n            }).limit(1);\n            if (lastMsgError && lastMsgError.code !== 'PGRST116') {\n              console.log('useMessagesQuery: Error fetching group messages (non-critical):', lastMsgError);\n            }\n            const {\n              count: memberCount,\n              error: countError\n            } = await _appIntegrationsSupabaseClient.supabase.from('group_members').select('*', {\n              count: 'exact',\n              head: true\n            }).eq('group_id', group.id);\n            if (countError && countError.code !== 'PGRST116') {\n              console.log('useMessagesQuery: Error counting group members (non-critical):', countError);\n            }\n            const lastMessage = lastMessages && lastMessages.length > 0 ? lastMessages[0] : null;\n            const muteKey = `group:${group.id}`;\n            groupConversations.push({\n              id: group.id,\n              type: 'group',\n              title: group.name,\n              lastMessage: lastMessage?.content || 'No messages yet',\n              lastMessageTime: lastMessage?.created_at || group.created_at,\n              unreadCount: 0,\n              memberCount: memberCount || 0,\n              isMuted: mutesMap.get(muteKey) || false\n            });\n          }\n        }\n      }\n\n      // Process direct messages\n      const directConversationsMap = new Map();\n      (messages || []).forEach(message => {\n        const isFromMe = message.sender_id === userId;\n        const partnerId = isFromMe ? message.recipient_id : message.sender_id;\n        const partner = userDetailsMap.get(partnerId);\n        if (!directConversationsMap.has(partnerId)) {\n          const displayName = partner?.first_name && partner?.last_name ? `${partner.first_name} ${partner.last_name.charAt(0)}.` : partner?.pickleballer_nickname || 'Unknown User';\n          directConversationsMap.set(partnerId, {\n            id: partnerId,\n            type: 'direct',\n            title: displayName,\n            userId: partnerId,\n            userFirstName: partner?.first_name,\n            userLastName: partner?.last_name,\n            userNickname: partner?.pickleballer_nickname,\n            lastMessage: message.content || '',\n            lastMessageTime: message.created_at,\n            unreadCount: 0,\n            isMuted: false\n          });\n        }\n        if (!isFromMe && !message.read) {\n          const conv = directConversationsMap.get(partnerId);\n          if (conv) {\n            conv.unreadCount += 1;\n          }\n        }\n      });\n      const allConversations = [...Array.from(directConversationsMap.values()), ...groupConversations].sort((a, b) => {\n        return new Date(b.lastMessageTime).getTime() - new Date(a.lastMessageTime).getTime();\n      });\n      console.log('useMessagesQuery: Loaded', allConversations.length, 'total conversations');\n      return allConversations;\n    } catch (err) {\n      console.error('useMessagesQuery: Error in fetchConversations:', err);\n      return [];\n    }\n  }\n  function useMessagesQuery(userId) {\n    _s();\n    const queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    const query = (0, _tanstackReactQuery.useQuery)({\n      queryKey: ['conversations', userId],\n      queryFn: () => fetchConversations(userId),\n      enabled: !!userId && (0, _appIntegrationsSupabaseClient.isSupabaseConfigured)(),\n      staleTime: 30000,\n      // 30 seconds\n      gcTime: 600000,\n      // 10 minutes\n      refetchOnFocus: false\n    });\n    const refetch = (0, _react.useCallback)(() => {\n      console.log('useMessagesQuery: Manual refetch triggered');\n      return queryClient.invalidateQueries({\n        queryKey: ['conversations', userId]\n      });\n    }, [queryClient, userId]);\n    return {\n      conversations: query.data || [],\n      loading: query.isLoading,\n      error: query.error,\n      refetch,\n      isRefetching: query.isRefetching\n    };\n  }\n  _s(useMessagesQuery, \"s7BkFUHpLNWbmmi6bwbYyH71afY=\", false, function () {\n    return [_tanstackReactQuery.useQueryClient, _tanstackReactQuery.useQuery];\n  });\n});","lineCount":188,"map":[[8,2,198,0,"exports"],[8,9,198,0],[8,10,198,0,"useMessagesQuery"],[8,26,198,0],[8,29,198,0,"useMessagesQuery"],[8,45,198,0],[9,2,2,0],[9,6,2,0,"_tanstackReactQuery"],[9,25,2,0],[9,28,2,0,"require"],[9,35,2,0],[9,36,2,0,"_dependencyMap"],[9,50,2,0],[10,2,3,0],[10,6,3,0,"_react"],[10,12,3,0],[10,15,3,0,"require"],[10,22,3,0],[10,23,3,0,"_dependencyMap"],[10,37,3,0],[11,2,4,0],[11,6,4,0,"_appIntegrationsSupabaseClient"],[11,36,4,0],[11,39,4,0,"require"],[11,46,4,0],[11,47,4,0,"_dependencyMap"],[11,61,4,0],[12,2,21,0],[12,8,21,6,"MESSAGES_LIMIT"],[12,22,21,20],[12,25,21,23],[12,27,21,25],[13,2,23,0],[13,17,23,15,"fetchConversations"],[13,35,23,33,"fetchConversations"],[13,36,23,34,"userId"],[13,42,23,48],[13,44,23,75],[14,4,24,2,"console"],[14,11,24,9],[14,12,24,10,"log"],[14,15,24,13],[14,16,24,14],[14,68,24,66],[14,70,24,68,"userId"],[14,76,24,74],[14,77,24,75],[15,4,26,2],[15,8,26,6],[15,9,26,7],[15,13,26,7,"isSupabaseConfigured"],[15,43,26,27],[15,44,26,27,"isSupabaseConfigured"],[15,64,26,27],[15,66,26,28],[15,67,26,29],[15,69,26,31],[16,6,27,4,"console"],[16,13,27,11],[16,14,27,12,"log"],[16,17,27,15],[16,18,27,16],[16,61,27,59],[16,62,27,60],[17,6,28,4],[17,13,28,11],[17,15,28,13],[18,4,29,2],[19,4,31,2],[19,8,31,6],[20,6,32,4],[21,6,33,4],[21,12,33,10],[22,8,33,12,"data"],[22,12,33,16],[22,14,33,18,"messages"],[22,22,33,26],[23,8,33,28,"error"],[23,13,33,33],[23,15,33,35,"messagesError"],[24,6,33,49],[24,7,33,50],[24,10,33,53],[24,16,33,59,"supabase"],[24,46,33,67],[24,47,33,67,"supabase"],[24,55,33,67],[24,56,34,7,"from"],[24,60,34,11],[24,61,34,12],[24,71,34,22],[24,72,34,23],[24,73,35,7,"select"],[24,79,35,13],[24,80,35,14],[24,136,35,70],[24,137,35,71],[24,138,36,7,"or"],[24,140,36,9],[24,141,36,10],[24,157,36,26,"userId"],[24,163,36,32],[24,183,36,52,"userId"],[24,189,36,58],[24,191,36,60],[24,192,36,61],[24,193,37,7,"order"],[24,198,37,12],[24,199,37,13],[24,211,37,25],[24,213,37,27],[25,8,37,29,"ascending"],[25,17,37,38],[25,19,37,40],[26,6,37,46],[26,7,37,47],[26,8,37,48],[26,9,38,7,"limit"],[26,14,38,12],[26,15,38,13,"MESSAGES_LIMIT"],[26,29,38,27],[26,30,38,28],[27,6,40,4],[27,10,40,8,"messagesError"],[27,23,40,21],[27,27,40,25,"messagesError"],[27,40,40,38],[27,41,40,39,"code"],[27,45,40,43],[27,50,40,48],[27,60,40,58],[27,62,40,60],[28,8,41,6,"console"],[28,15,41,13],[28,16,41,14,"error"],[28,21,41,19],[28,22,41,20],[28,66,41,64],[28,68,41,66,"messagesError"],[28,81,41,79],[28,82,41,80],[29,6,42,4],[30,6,44,4,"console"],[30,13,44,11],[30,14,44,12,"log"],[30,17,44,15],[30,18,44,16],[30,45,44,43],[30,47,44,45,"messages"],[30,55,44,53],[30,57,44,55,"length"],[30,63,44,61],[30,67,44,65],[30,68,44,66],[30,70,44,68],[30,87,44,85],[30,88,44,86],[32,6,46,4],[33,6,47,4],[33,12,47,10,"uniqueUserIds"],[33,25,47,23],[33,28,47,26],[33,32,47,30,"Set"],[33,35,47,33],[33,36,47,42],[33,37,47,43],[34,6,48,4],[34,7,48,5,"messages"],[34,15,48,13],[34,19,48,17],[34,21,48,19],[34,23,48,21,"forEach"],[34,30,48,28],[34,31,48,30,"msg"],[34,34,48,38],[34,38,48,43],[35,8,49,6],[35,12,49,10,"msg"],[35,15,49,13],[35,16,49,14,"sender_id"],[35,25,49,23],[35,30,49,28,"userId"],[35,36,49,34],[35,38,49,36,"uniqueUserIds"],[35,51,49,49],[35,52,49,50,"add"],[35,55,49,53],[35,56,49,54,"msg"],[35,59,49,57],[35,60,49,58,"sender_id"],[35,69,49,67],[35,70,49,68],[36,8,50,6],[36,12,50,10,"msg"],[36,15,50,13],[36,16,50,14,"recipient_id"],[36,28,50,26],[36,33,50,31,"userId"],[36,39,50,37],[36,41,50,39,"uniqueUserIds"],[36,54,50,52],[36,55,50,53,"add"],[36,58,50,56],[36,59,50,57,"msg"],[36,62,50,60],[36,63,50,61,"recipient_id"],[36,75,50,73],[36,76,50,74],[37,6,51,4],[37,7,51,5],[37,8,51,6],[38,6,53,4],[38,12,53,10,"userDetailsMap"],[38,26,53,24],[38,29,53,27],[38,33,53,31,"Map"],[38,36,53,34],[38,37,53,48],[38,38,53,49],[39,6,54,4],[39,10,54,8,"uniqueUserIds"],[39,23,54,21],[39,24,54,22,"size"],[39,28,54,26],[39,31,54,29],[39,32,54,30],[39,34,54,32],[40,8,55,6],[40,14,55,12],[41,10,55,14,"data"],[41,14,55,18],[41,16,55,20,"userDetails"],[42,8,55,32],[42,9,55,33],[42,12,55,36],[42,18,55,42,"supabase"],[42,48,55,50],[42,49,55,50,"supabase"],[42,57,55,50],[42,58,56,9,"from"],[42,62,56,13],[42,63,56,14],[42,70,56,21],[42,71,56,22],[42,72,57,9,"select"],[42,78,57,15],[42,79,57,16],[42,129,57,66],[42,130,57,67],[42,131,58,9,"in"],[42,133,58,11],[42,134,58,12],[42,138,58,16],[42,140,58,18,"Array"],[42,145,58,23],[42,146,58,24,"from"],[42,150,58,28],[42,151,58,29,"uniqueUserIds"],[42,164,58,42],[42,165,58,43],[42,166,58,44],[43,8,60,6],[43,9,60,7,"userDetails"],[43,20,60,18],[43,24,60,22],[43,26,60,24],[43,28,60,26,"forEach"],[43,35,60,33],[43,36,60,35,"u"],[43,37,60,41],[43,41,60,46],[44,10,61,8,"userDetailsMap"],[44,24,61,22],[44,25,61,23,"set"],[44,28,61,26],[44,29,61,27,"u"],[44,30,61,28],[44,31,61,29,"id"],[44,33,61,31],[44,35,61,33,"u"],[44,36,61,34],[44,37,61,35],[45,8,62,6],[45,9,62,7],[45,10,62,8],[46,6,63,4],[48,6,65,4],[49,6,66,4],[49,12,66,10],[50,8,66,12,"data"],[50,12,66,16],[50,14,66,18,"userGroups"],[50,24,66,28],[51,8,66,30,"error"],[51,13,66,35],[51,15,66,37,"userGroupsError"],[52,6,66,53],[52,7,66,54],[52,10,66,57],[52,16,66,63,"supabase"],[52,46,66,71],[52,47,66,71,"supabase"],[52,55,66,71],[52,56,67,7,"from"],[52,60,67,11],[52,61,67,12],[52,76,67,27],[52,77,67,28],[52,78,68,7,"select"],[52,84,68,13],[52,85,68,14],[52,95,68,24],[52,96,68,25],[52,97,69,7,"eq"],[52,99,69,9],[52,100,69,10],[52,109,69,19],[52,111,69,21,"userId"],[52,117,69,27],[52,118,69,28],[52,119,70,7,"limit"],[52,124,70,12],[52,125,70,13,"MESSAGES_LIMIT"],[52,139,70,27],[52,140,70,28],[53,6,72,4],[53,10,72,8,"userGroupsError"],[53,25,72,23],[53,29,72,27,"userGroupsError"],[53,44,72,42],[53,45,72,43,"code"],[53,49,72,47],[53,54,72,52],[53,64,72,62],[53,66,72,64],[54,8,73,6,"console"],[54,15,73,13],[54,16,73,14,"error"],[54,21,73,19],[54,22,73,20],[54,69,73,67],[54,71,73,69,"userGroupsError"],[54,86,73,84],[54,87,73,85],[55,6,74,4],[56,6,76,4,"console"],[56,13,76,11],[56,14,76,12,"log"],[56,17,76,15],[56,18,76,16],[56,55,76,53],[56,57,76,55,"userGroups"],[56,67,76,65],[56,69,76,67,"length"],[56,75,76,73],[56,79,76,77],[56,80,76,78],[56,82,76,80],[56,90,76,88],[56,91,76,89],[57,6,78,4],[57,10,78,8,"groupConversations"],[57,28,78,42],[57,31,78,45],[57,33,78,47],[58,6,79,4],[58,10,79,8,"userGroups"],[58,20,79,18],[58,24,79,22,"userGroups"],[58,34,79,32],[58,35,79,33,"length"],[58,41,79,39],[58,44,79,42],[58,45,79,43],[58,47,79,45],[59,8,80,6],[59,14,80,12,"groupIds"],[59,22,80,20],[59,25,80,23,"userGroups"],[59,35,80,33],[59,36,80,34,"map"],[59,39,80,37],[59,40,80,38,"g"],[59,41,80,39],[59,45,80,43,"g"],[59,46,80,44],[59,47,80,45,"group_id"],[59,55,80,53],[59,56,80,54],[60,8,82,6],[60,14,82,12],[61,10,82,14,"data"],[61,14,82,18],[61,16,82,20,"groups"],[61,22,82,26],[62,10,82,28,"error"],[62,15,82,33],[62,17,82,35,"groupsError"],[63,8,82,47],[63,9,82,48],[63,12,82,51],[63,18,82,57,"supabase"],[63,48,82,65],[63,49,82,65,"supabase"],[63,57,82,65],[63,58,83,9,"from"],[63,62,83,13],[63,63,83,14],[63,76,83,27],[63,77,83,28],[63,78,84,9,"select"],[63,84,84,15],[63,85,84,16],[63,107,84,38],[63,108,84,39],[63,109,85,9,"in"],[63,111,85,11],[63,112,85,12],[63,116,85,16],[63,118,85,18,"groupIds"],[63,126,85,26],[63,127,85,27],[64,8,87,6],[64,12,87,10,"groupsError"],[64,23,87,21],[64,27,87,25,"groupsError"],[64,38,87,36],[64,39,87,37,"code"],[64,43,87,41],[64,48,87,46],[64,58,87,56],[64,60,87,58],[65,10,88,8,"console"],[65,17,88,15],[65,18,88,16,"error"],[65,23,88,21],[65,24,88,22],[65,66,88,64],[65,68,88,66,"groupsError"],[65,79,88,77],[65,80,88,78],[66,8,89,6],[66,9,89,7],[66,15,89,13],[67,10,90,8,"console"],[67,17,90,15],[67,18,90,16,"log"],[67,21,90,19],[67,22,90,20],[67,49,90,47],[67,51,90,49,"groups"],[67,57,90,55],[67,59,90,57,"length"],[67,65,90,63],[67,69,90,67],[67,70,90,68],[67,72,90,70],[67,87,90,85],[67,88,90,86],[69,10,92,8],[70,10,93,8],[70,16,93,14],[71,12,93,16,"data"],[71,16,93,20],[71,18,93,22,"mutes"],[71,23,93,27],[72,12,93,29,"error"],[72,17,93,34],[72,19,93,36,"mutesError"],[73,10,93,47],[73,11,93,48],[73,14,93,51],[73,20,93,57,"supabase"],[73,50,93,65],[73,51,93,65,"supabase"],[73,59,93,65],[73,60,94,11,"from"],[73,64,94,15],[73,65,94,16],[73,85,94,36],[73,86,94,37],[73,87,95,11,"select"],[73,93,95,17],[73,94,95,18],[73,143,95,67],[73,144,95,68],[73,145,96,11,"eq"],[73,147,96,13],[73,148,96,14],[73,157,96,23],[73,159,96,25,"userId"],[73,165,96,31],[73,166,96,32],[74,10,98,8],[74,14,98,12,"mutesError"],[74,24,98,22],[74,28,98,26,"mutesError"],[74,38,98,36],[74,39,98,37,"code"],[74,43,98,41],[74,48,98,46],[74,58,98,56],[74,60,98,58],[75,12,99,10,"console"],[75,19,99,17],[75,20,99,18,"log"],[75,23,99,21],[75,24,99,22],[75,80,99,78],[75,82,99,80,"mutesError"],[75,92,99,90],[75,93,99,91],[76,10,100,8],[77,10,102,8],[77,16,102,14,"mutesMap"],[77,24,102,22],[77,27,102,25],[77,31,102,29,"Map"],[77,34,102,32],[77,35,102,50],[77,36,102,51],[78,10,103,8],[78,11,103,9,"mutes"],[78,16,103,14],[78,20,103,18],[78,22,103,20],[78,24,103,22,"forEach"],[78,31,103,29],[78,32,103,31,"mute"],[78,36,103,40],[78,40,103,45],[79,12,104,10],[79,18,104,16,"key"],[79,21,104,19],[79,24,104,22],[79,27,104,25,"mute"],[79,31,104,29],[79,32,104,30,"conversation_type"],[79,49,104,47],[79,53,104,51,"mute"],[79,57,104,55],[79,58,104,56,"conversation_id"],[79,73,104,71],[79,75,104,73],[80,12,105,10],[80,18,105,16,"isMuted"],[80,25,105,23],[80,28,105,26],[80,29,105,27,"mute"],[80,33,105,31],[80,34,105,32,"muted_until"],[80,45,105,43],[80,49,105,47],[80,53,105,51,"Date"],[80,57,105,55],[80,58,105,56,"mute"],[80,62,105,60],[80,63,105,61,"muted_until"],[80,74,105,72],[80,75,105,73],[80,78,105,76],[80,82,105,80,"Date"],[80,86,105,84],[80,87,105,85],[80,88,105,86],[81,12,106,10,"mutesMap"],[81,20,106,18],[81,21,106,19,"set"],[81,24,106,22],[81,25,106,23,"key"],[81,28,106,26],[81,30,106,28,"isMuted"],[81,37,106,35],[81,38,106,36],[82,10,107,8],[82,11,107,9],[82,12,107,10],[83,10,109,8],[83,15,109,13],[83,21,109,19,"group"],[83,26,109,24],[83,30,109,28,"groups"],[83,36,109,34],[83,40,109,38],[83,42,109,40],[83,44,109,42],[84,12,110,10],[84,18,110,16],[85,14,110,18,"data"],[85,18,110,22],[85,20,110,24,"lastMessages"],[85,32,110,36],[86,14,110,38,"error"],[86,19,110,43],[86,21,110,45,"lastMsgError"],[87,12,110,58],[87,13,110,59],[87,16,110,62],[87,22,110,68,"supabase"],[87,52,110,76],[87,53,110,76,"supabase"],[87,61,110,76],[87,62,111,13,"from"],[87,66,111,17],[87,67,111,18],[87,83,111,34],[87,84,111,35],[87,85,112,13,"select"],[87,91,112,19],[87,92,112,20],[87,113,112,41],[87,114,112,42],[87,115,113,13,"eq"],[87,117,113,15],[87,118,113,16],[87,128,113,26],[87,130,113,28,"group"],[87,135,113,33],[87,136,113,34,"id"],[87,138,113,36],[87,139,113,37],[87,140,114,13,"order"],[87,145,114,18],[87,146,114,19],[87,158,114,31],[87,160,114,33],[88,14,114,35,"ascending"],[88,23,114,44],[88,25,114,46],[89,12,114,52],[89,13,114,53],[89,14,114,54],[89,15,115,13,"limit"],[89,20,115,18],[89,21,115,19],[89,22,115,20],[89,23,115,21],[90,12,117,10],[90,16,117,14,"lastMsgError"],[90,28,117,26],[90,32,117,30,"lastMsgError"],[90,44,117,42],[90,45,117,43,"code"],[90,49,117,47],[90,54,117,52],[90,64,117,62],[90,66,117,64],[91,14,118,12,"console"],[91,21,118,19],[91,22,118,20,"log"],[91,25,118,23],[91,26,118,24],[91,91,118,89],[91,93,118,91,"lastMsgError"],[91,105,118,103],[91,106,118,104],[92,12,119,10],[93,12,121,10],[93,18,121,16],[94,14,121,18,"count"],[94,19,121,23],[94,21,121,25,"memberCount"],[94,32,121,36],[95,14,121,38,"error"],[95,19,121,43],[95,21,121,45,"countError"],[96,12,121,56],[96,13,121,57],[96,16,121,60],[96,22,121,66,"supabase"],[96,52,121,74],[96,53,121,74,"supabase"],[96,61,121,74],[96,62,122,13,"from"],[96,66,122,17],[96,67,122,18],[96,82,122,33],[96,83,122,34],[96,84,123,13,"select"],[96,90,123,19],[96,91,123,20],[96,94,123,23],[96,96,123,25],[97,14,123,27,"count"],[97,19,123,32],[97,21,123,34],[97,28,123,41],[98,14,123,43,"head"],[98,18,123,47],[98,20,123,49],[99,12,123,54],[99,13,123,55],[99,14,123,56],[99,15,124,13,"eq"],[99,17,124,15],[99,18,124,16],[99,28,124,26],[99,30,124,28,"group"],[99,35,124,33],[99,36,124,34,"id"],[99,38,124,36],[99,39,124,37],[100,12,126,10],[100,16,126,14,"countError"],[100,26,126,24],[100,30,126,28,"countError"],[100,40,126,38],[100,41,126,39,"code"],[100,45,126,43],[100,50,126,48],[100,60,126,58],[100,62,126,60],[101,14,127,12,"console"],[101,21,127,19],[101,22,127,20,"log"],[101,25,127,23],[101,26,127,24],[101,90,127,88],[101,92,127,90,"countError"],[101,102,127,100],[101,103,127,101],[102,12,128,10],[103,12,130,10],[103,18,130,16,"lastMessage"],[103,29,130,27],[103,32,130,30,"lastMessages"],[103,44,130,42],[103,48,130,46,"lastMessages"],[103,60,130,58],[103,61,130,59,"length"],[103,67,130,65],[103,70,130,68],[103,71,130,69],[103,74,130,72,"lastMessages"],[103,86,130,84],[103,87,130,85],[103,88,130,86],[103,89,130,87],[103,92,130,90],[103,96,130,94],[104,12,131,10],[104,18,131,16,"muteKey"],[104,25,131,23],[104,28,131,26],[104,37,131,35,"group"],[104,42,131,40],[104,43,131,41,"id"],[104,45,131,43],[104,47,131,45],[105,12,133,10,"groupConversations"],[105,30,133,28],[105,31,133,29,"push"],[105,35,133,33],[105,36,133,34],[106,14,134,12,"id"],[106,16,134,14],[106,18,134,16,"group"],[106,23,134,21],[106,24,134,22,"id"],[106,26,134,24],[107,14,135,12,"type"],[107,18,135,16],[107,20,135,18],[107,27,135,25],[108,14,136,12,"title"],[108,19,136,17],[108,21,136,19,"group"],[108,26,136,24],[108,27,136,25,"name"],[108,31,136,29],[109,14,137,12,"lastMessage"],[109,25,137,23],[109,27,137,25,"lastMessage"],[109,38,137,36],[109,40,137,38,"content"],[109,47,137,45],[109,51,137,49],[109,68,137,66],[110,14,138,12,"lastMessageTime"],[110,29,138,27],[110,31,138,29,"lastMessage"],[110,42,138,40],[110,44,138,42,"created_at"],[110,54,138,52],[110,58,138,56,"group"],[110,63,138,61],[110,64,138,62,"created_at"],[110,74,138,72],[111,14,139,12,"unreadCount"],[111,25,139,23],[111,27,139,25],[111,28,139,26],[112,14,140,12,"memberCount"],[112,25,140,23],[112,27,140,25,"memberCount"],[112,38,140,36],[112,42,140,40],[112,43,140,41],[113,14,141,12,"isMuted"],[113,21,141,19],[113,23,141,21,"mutesMap"],[113,31,141,29],[113,32,141,30,"get"],[113,35,141,33],[113,36,141,34,"muteKey"],[113,43,141,41],[113,44,141,42],[113,48,141,46],[114,12,142,10],[114,13,142,11],[114,14,142,12],[115,10,143,8],[116,8,144,6],[117,6,145,4],[119,6,147,4],[120,6,148,4],[120,12,148,10,"directConversationsMap"],[120,34,148,32],[120,37,148,35],[120,41,148,39,"Map"],[120,44,148,42],[120,45,148,65],[120,46,148,66],[121,6,149,4],[121,7,149,5,"messages"],[121,15,149,13],[121,19,149,17],[121,21,149,19],[121,23,149,21,"forEach"],[121,30,149,28],[121,31,149,30,"message"],[121,38,149,42],[121,42,149,47],[122,8,150,6],[122,14,150,12,"isFromMe"],[122,22,150,20],[122,25,150,23,"message"],[122,32,150,30],[122,33,150,31,"sender_id"],[122,42,150,40],[122,47,150,45,"userId"],[122,53,150,51],[123,8,151,6],[123,14,151,12,"partnerId"],[123,23,151,21],[123,26,151,24,"isFromMe"],[123,34,151,32],[123,37,151,35,"message"],[123,44,151,42],[123,45,151,43,"recipient_id"],[123,57,151,55],[123,60,151,58,"message"],[123,67,151,65],[123,68,151,66,"sender_id"],[123,77,151,75],[124,8,152,6],[124,14,152,12,"partner"],[124,21,152,19],[124,24,152,22,"userDetailsMap"],[124,38,152,36],[124,39,152,37,"get"],[124,42,152,40],[124,43,152,41,"partnerId"],[124,52,152,50],[124,53,152,51],[125,8,154,6],[125,12,154,10],[125,13,154,11,"directConversationsMap"],[125,35,154,33],[125,36,154,34,"has"],[125,39,154,37],[125,40,154,38,"partnerId"],[125,49,154,47],[125,50,154,48],[125,52,154,50],[126,10,155,8],[126,16,155,14,"displayName"],[126,27,155,25],[126,30,155,28,"partner"],[126,37,155,35],[126,39,155,37,"first_name"],[126,49,155,47],[126,53,155,51,"partner"],[126,60,155,58],[126,62,155,60,"last_name"],[126,71,155,69],[126,74,156,12],[126,77,156,15,"partner"],[126,84,156,22],[126,85,156,23,"first_name"],[126,95,156,33],[126,99,156,37,"partner"],[126,106,156,44],[126,107,156,45,"last_name"],[126,116,156,54],[126,117,156,55,"charAt"],[126,123,156,61],[126,124,156,62],[126,125,156,63],[126,126,156,64],[126,129,156,67],[126,132,157,12,"partner"],[126,139,157,19],[126,141,157,21,"pickleballer_nickname"],[126,162,157,42],[126,166,157,46],[126,180,157,60],[127,10,159,8,"directConversationsMap"],[127,32,159,30],[127,33,159,31,"set"],[127,36,159,34],[127,37,159,35,"partnerId"],[127,46,159,44],[127,48,159,46],[128,12,160,10,"id"],[128,14,160,12],[128,16,160,14,"partnerId"],[128,25,160,23],[129,12,161,10,"type"],[129,16,161,14],[129,18,161,16],[129,26,161,24],[130,12,162,10,"title"],[130,17,162,15],[130,19,162,17,"displayName"],[130,30,162,28],[131,12,163,10,"userId"],[131,18,163,16],[131,20,163,18,"partnerId"],[131,29,163,27],[132,12,164,10,"userFirstName"],[132,25,164,23],[132,27,164,25,"partner"],[132,34,164,32],[132,36,164,34,"first_name"],[132,46,164,44],[133,12,165,10,"userLastName"],[133,24,165,22],[133,26,165,24,"partner"],[133,33,165,31],[133,35,165,33,"last_name"],[133,44,165,42],[134,12,166,10,"userNickname"],[134,24,166,22],[134,26,166,24,"partner"],[134,33,166,31],[134,35,166,33,"pickleballer_nickname"],[134,56,166,54],[135,12,167,10,"lastMessage"],[135,23,167,21],[135,25,167,23,"message"],[135,32,167,30],[135,33,167,31,"content"],[135,40,167,38],[135,44,167,42],[135,46,167,44],[136,12,168,10,"lastMessageTime"],[136,27,168,25],[136,29,168,27,"message"],[136,36,168,34],[136,37,168,35,"created_at"],[136,47,168,45],[137,12,169,10,"unreadCount"],[137,23,169,21],[137,25,169,23],[137,26,169,24],[138,12,170,10,"isMuted"],[138,19,170,17],[138,21,170,19],[139,10,171,8],[139,11,171,9],[139,12,171,10],[140,8,172,6],[141,8,174,6],[141,12,174,10],[141,13,174,11,"isFromMe"],[141,21,174,19],[141,25,174,23],[141,26,174,24,"message"],[141,33,174,31],[141,34,174,32,"read"],[141,38,174,36],[141,40,174,38],[142,10,175,8],[142,16,175,14,"conv"],[142,20,175,18],[142,23,175,21,"directConversationsMap"],[142,45,175,43],[142,46,175,44,"get"],[142,49,175,47],[142,50,175,48,"partnerId"],[142,59,175,57],[142,60,175,58],[143,10,176,8],[143,14,176,12,"conv"],[143,18,176,16],[143,20,176,18],[144,12,177,10,"conv"],[144,16,177,14],[144,17,177,15,"unreadCount"],[144,28,177,26],[144,32,177,30],[144,33,177,31],[145,10,178,8],[146,8,179,6],[147,6,180,4],[147,7,180,5],[147,8,180,6],[148,6,182,4],[148,12,182,10,"allConversations"],[148,28,182,26],[148,31,182,29],[148,32,183,6],[148,35,183,9,"Array"],[148,40,183,14],[148,41,183,15,"from"],[148,45,183,19],[148,46,183,20,"directConversationsMap"],[148,68,183,42],[148,69,183,43,"values"],[148,75,183,49],[148,76,183,50],[148,77,183,51],[148,78,183,52],[148,80,184,6],[148,83,184,9,"groupConversations"],[148,101,184,27],[148,102,185,5],[148,103,185,6,"sort"],[148,107,185,10],[148,108,185,11],[148,109,185,12,"a"],[148,110,185,13],[148,112,185,15,"b"],[148,113,185,16],[148,118,185,21],[149,8,186,6],[149,15,186,13],[149,19,186,17,"Date"],[149,23,186,21],[149,24,186,22,"b"],[149,25,186,23],[149,26,186,24,"lastMessageTime"],[149,41,186,39],[149,42,186,40],[149,43,186,41,"getTime"],[149,50,186,48],[149,51,186,49],[149,52,186,50],[149,55,186,53],[149,59,186,57,"Date"],[149,63,186,61],[149,64,186,62,"a"],[149,65,186,63],[149,66,186,64,"lastMessageTime"],[149,81,186,79],[149,82,186,80],[149,83,186,81,"getTime"],[149,90,186,88],[149,91,186,89],[149,92,186,90],[150,6,187,4],[150,7,187,5],[150,8,187,6],[151,6,189,4,"console"],[151,13,189,11],[151,14,189,12,"log"],[151,17,189,15],[151,18,189,16],[151,44,189,42],[151,46,189,44,"allConversations"],[151,62,189,60],[151,63,189,61,"length"],[151,69,189,67],[151,71,189,69],[151,92,189,90],[151,93,189,91],[152,6,191,4],[152,13,191,11,"allConversations"],[152,29,191,27],[153,4,192,2],[153,5,192,3],[153,6,192,4],[153,13,192,11,"err"],[153,16,192,19],[153,18,192,21],[154,6,193,4,"console"],[154,13,193,11],[154,14,193,12,"error"],[154,19,193,17],[154,20,193,18],[154,68,193,66],[154,70,193,68,"err"],[154,73,193,71],[154,74,193,72],[155,6,194,4],[155,13,194,11],[155,15,194,13],[156,4,195,2],[157,2,196,0],[158,2,198,7],[158,11,198,16,"useMessagesQuery"],[158,27,198,32,"useMessagesQuery"],[158,28,198,33,"userId"],[158,34,198,48],[158,36,198,50],[159,4,198,50,"_s"],[159,6,198,50],[160,4,199,2],[160,10,199,8,"queryClient"],[160,21,199,19],[160,24,199,22],[160,28,199,22,"useQueryClient"],[160,47,199,36],[160,48,199,36,"useQueryClient"],[160,62,199,36],[160,64,199,37],[160,65,199,38],[161,4,201,2],[161,10,201,8,"query"],[161,15,201,13],[161,18,201,16],[161,22,201,16,"useQuery"],[161,41,201,24],[161,42,201,24,"useQuery"],[161,50,201,24],[161,52,201,25],[162,6,202,4,"queryKey"],[162,14,202,12],[162,16,202,14],[162,17,202,15],[162,32,202,30],[162,34,202,32,"userId"],[162,40,202,38],[162,41,202,39],[163,6,203,4,"queryFn"],[163,13,203,11],[163,15,203,13,"queryFn"],[163,16,203,13],[163,21,203,19,"fetchConversations"],[163,39,203,37],[163,40,203,38,"userId"],[163,46,203,45],[163,47,203,46],[164,6,204,4,"enabled"],[164,13,204,11],[164,15,204,13],[164,16,204,14],[164,17,204,15,"userId"],[164,23,204,21],[164,27,204,25],[164,31,204,25,"isSupabaseConfigured"],[164,61,204,45],[164,62,204,45,"isSupabaseConfigured"],[164,82,204,45],[164,84,204,46],[164,85,204,47],[165,6,205,4,"staleTime"],[165,15,205,13],[165,17,205,15],[165,22,205,20],[166,6,205,22],[167,6,206,4,"gcTime"],[167,12,206,10],[167,14,206,12],[167,20,206,18],[168,6,206,20],[169,6,207,4,"refetchOnFocus"],[169,20,207,18],[169,22,207,20],[170,4,208,2],[170,5,208,3],[170,6,208,4],[171,4,210,2],[171,10,210,8,"refetch"],[171,17,210,15],[171,20,210,18],[171,24,210,18,"useCallback"],[171,30,210,29],[171,31,210,29,"useCallback"],[171,42,210,29],[171,44,210,30],[171,50,210,36],[172,6,211,4,"console"],[172,13,211,11],[172,14,211,12,"log"],[172,17,211,15],[172,18,211,16],[172,62,211,60],[172,63,211,61],[173,6,212,4],[173,13,212,11,"queryClient"],[173,24,212,22],[173,25,212,23,"invalidateQueries"],[173,42,212,40],[173,43,212,41],[174,8,212,43,"queryKey"],[174,16,212,51],[174,18,212,53],[174,19,212,54],[174,34,212,69],[174,36,212,71,"userId"],[174,42,212,77],[175,6,212,79],[175,7,212,80],[175,8,212,81],[176,4,213,2],[176,5,213,3],[176,7,213,5],[176,8,213,6,"queryClient"],[176,19,213,17],[176,21,213,19,"userId"],[176,27,213,25],[176,28,213,26],[176,29,213,27],[177,4,215,2],[177,11,215,9],[178,6,216,4,"conversations"],[178,19,216,17],[178,21,216,19,"query"],[178,26,216,24],[178,27,216,25,"data"],[178,31,216,29],[178,35,216,33],[178,37,216,35],[179,6,217,4,"loading"],[179,13,217,11],[179,15,217,13,"query"],[179,20,217,18],[179,21,217,19,"isLoading"],[179,30,217,28],[180,6,218,4,"error"],[180,11,218,9],[180,13,218,11,"query"],[180,18,218,16],[180,19,218,17,"error"],[180,24,218,22],[181,6,219,4,"refetch"],[181,13,219,11],[182,6,220,4,"isRefetching"],[182,18,220,16],[182,20,220,18,"query"],[182,25,220,23],[182,26,220,24,"isRefetching"],[183,4,221,2],[183,5,221,3],[184,2,222,0],[185,2,222,1,"_s"],[185,4,222,1],[185,5,198,16,"useMessagesQuery"],[185,21,198,32],[186,4,198,32],[186,12,199,22,"useQueryClient"],[186,31,199,36],[186,32,199,36,"useQueryClient"],[186,46,199,36],[186,48,201,16,"useQuery"],[186,67,201,24],[186,68,201,24,"useQuery"],[186,76,201,24],[187,2,201,24],[188,0,201,24],[188,3]],"functionMap":{"names":["<global>","fetchConversations","forEach$argument_0","userGroups.map$argument_0","sort$argument_0","useMessagesQuery","useQuery$argument_0.queryFn","refetch"],"mappings":"AAA;ACsB;6BCyB;KDG;kCCS;ODE;sCEkB,eF;8BCuB;SDI;6BC0C;KD+B;WGK;KHE;CDS;OKE;aCK,iCD;8BEO;GFG;CLS"},"hasCjsExports":false},"type":"js/module"}]}