{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":1},"end":{"line":2,"column":65,"index":66}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":36,"index":103}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../app/integrations/supabase/client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":104},"end":{"line":4,"column":84,"index":188}}],"key":"6GXn7PAkjfLd/4QLcmmI0alLt58=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useMessagesQuery = useMessagesQuery;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _react = require(_dependencyMap[2], \"react\");\n  var _appIntegrationsSupabaseClient = require(_dependencyMap[3], \"../app/integrations/supabase/client\");\n  var MESSAGES_LIMIT = 50;\n  function fetchConversations(_x) {\n    return _fetchConversations.apply(this, arguments);\n  }\n  function _fetchConversations() {\n    _fetchConversations = (0, _asyncToGenerator.default)(function* (userId) {\n      console.log('useMessagesQuery: Fetching conversations for user:', userId);\n      if (!(0, _appIntegrationsSupabaseClient.isSupabaseConfigured)()) {\n        console.log('useMessagesQuery: Supabase not configured');\n        return [];\n      }\n      try {\n        // OPTIMIZED: Fetch direct messages WITHOUT embedded joins\n        var _yield$supabase$from$ = yield _appIntegrationsSupabaseClient.supabase.from('messages').select('id, sender_id, recipient_id, content, created_at, read').or(`sender_id.eq.${userId},recipient_id.eq.${userId}`).order('created_at', {\n            ascending: false\n          }).limit(MESSAGES_LIMIT),\n          messages = _yield$supabase$from$.data,\n          messagesError = _yield$supabase$from$.error;\n        if (messagesError && messagesError.code !== 'PGRST116') {\n          console.error('useMessagesQuery: Error fetching messages:', messagesError);\n        }\n        console.log('useMessagesQuery: Fetched', messages?.length || 0, 'direct messages');\n\n        // OPTIMIZED: Fetch user details separately\n        var uniqueUserIds = new Set();\n        (messages || []).forEach(msg => {\n          if (msg.sender_id !== userId) uniqueUserIds.add(msg.sender_id);\n          if (msg.recipient_id !== userId) uniqueUserIds.add(msg.recipient_id);\n        });\n        var userDetailsMap = new Map();\n        if (uniqueUserIds.size > 0) {\n          var _yield$supabase$from$2 = yield _appIntegrationsSupabaseClient.supabase.from('users').select('id, first_name, last_name, pickleballer_nickname').in('id', Array.from(uniqueUserIds)),\n            userDetails = _yield$supabase$from$2.data;\n          (userDetails || []).forEach(u => {\n            userDetailsMap.set(u.id, u);\n          });\n        }\n\n        // Fetch group chats\n        var _yield$supabase$from$3 = yield _appIntegrationsSupabaseClient.supabase.from('group_members').select('group_id').eq('user_id', userId).limit(MESSAGES_LIMIT),\n          userGroups = _yield$supabase$from$3.data,\n          userGroupsError = _yield$supabase$from$3.error;\n        if (userGroupsError && userGroupsError.code !== 'PGRST116') {\n          console.error('useMessagesQuery: Error fetching user groups:', userGroupsError);\n        }\n        console.log('useMessagesQuery: User is member of', userGroups?.length || 0, 'groups');\n        var groupConversations = [];\n        if (userGroups && userGroups.length > 0) {\n          var groupIds = userGroups.map(g => g.group_id);\n          var _yield$supabase$from$4 = yield _appIntegrationsSupabaseClient.supabase.from('group_chats').select('id, name, created_at').in('id', groupIds),\n            groups = _yield$supabase$from$4.data,\n            groupsError = _yield$supabase$from$4.error;\n          if (groupsError && groupsError.code !== 'PGRST116') {\n            console.error('useMessagesQuery: Error fetching groups:', groupsError);\n          } else {\n            console.log('useMessagesQuery: Fetched', groups?.length || 0, 'group details');\n\n            // Fetch muted conversations\n            var _yield$supabase$from$5 = yield _appIntegrationsSupabaseClient.supabase.from('conversation_mutes').select('conversation_type, conversation_id, muted_until').eq('user_id', userId),\n              mutes = _yield$supabase$from$5.data,\n              mutesError = _yield$supabase$from$5.error;\n            if (mutesError && mutesError.code !== 'PGRST116') {\n              console.log('useMessagesQuery: Error fetching mutes (non-critical):', mutesError);\n            }\n            var mutesMap = new Map();\n            (mutes || []).forEach(mute => {\n              var key = `${mute.conversation_type}:${mute.conversation_id}`;\n              var isMuted = !mute.muted_until || new Date(mute.muted_until) > new Date();\n              mutesMap.set(key, isMuted);\n            });\n            for (var group of groups || []) {\n              var _yield$supabase$from$6 = yield _appIntegrationsSupabaseClient.supabase.from('group_messages').select('content, created_at').eq('group_id', group.id).order('created_at', {\n                  ascending: false\n                }).limit(1),\n                lastMessages = _yield$supabase$from$6.data,\n                lastMsgError = _yield$supabase$from$6.error;\n              if (lastMsgError && lastMsgError.code !== 'PGRST116') {\n                console.log('useMessagesQuery: Error fetching group messages (non-critical):', lastMsgError);\n              }\n              var _yield$supabase$from$7 = yield _appIntegrationsSupabaseClient.supabase.from('group_members').select('*', {\n                  count: 'exact',\n                  head: true\n                }).eq('group_id', group.id),\n                memberCount = _yield$supabase$from$7.count,\n                countError = _yield$supabase$from$7.error;\n              if (countError && countError.code !== 'PGRST116') {\n                console.log('useMessagesQuery: Error counting group members (non-critical):', countError);\n              }\n              var lastMessage = lastMessages && lastMessages.length > 0 ? lastMessages[0] : null;\n              var muteKey = `group:${group.id}`;\n              groupConversations.push({\n                id: group.id,\n                type: 'group',\n                title: group.name,\n                lastMessage: lastMessage?.content || 'No messages yet',\n                lastMessageTime: lastMessage?.created_at || group.created_at,\n                unreadCount: 0,\n                memberCount: memberCount || 0,\n                isMuted: mutesMap.get(muteKey) || false\n              });\n            }\n          }\n        }\n\n        // Process direct messages\n        var directConversationsMap = new Map();\n        (messages || []).forEach(message => {\n          var isFromMe = message.sender_id === userId;\n          var partnerId = isFromMe ? message.recipient_id : message.sender_id;\n          var partner = userDetailsMap.get(partnerId);\n          if (!directConversationsMap.has(partnerId)) {\n            var displayName = partner?.first_name && partner?.last_name ? `${partner.first_name} ${partner.last_name.charAt(0)}.` : partner?.pickleballer_nickname || 'Unknown User';\n            directConversationsMap.set(partnerId, {\n              id: partnerId,\n              type: 'direct',\n              title: displayName,\n              userId: partnerId,\n              userFirstName: partner?.first_name,\n              userLastName: partner?.last_name,\n              userNickname: partner?.pickleballer_nickname,\n              lastMessage: message.content || '',\n              lastMessageTime: message.created_at,\n              unreadCount: 0,\n              isMuted: false\n            });\n          }\n          if (!isFromMe && !message.read) {\n            var conv = directConversationsMap.get(partnerId);\n            if (conv) {\n              conv.unreadCount += 1;\n            }\n          }\n        });\n        var allConversations = [...Array.from(directConversationsMap.values()), ...groupConversations].sort((a, b) => {\n          return new Date(b.lastMessageTime).getTime() - new Date(a.lastMessageTime).getTime();\n        });\n        console.log('useMessagesQuery: Loaded', allConversations.length, 'total conversations');\n        return allConversations;\n      } catch (err) {\n        console.error('useMessagesQuery: Error in fetchConversations:', err);\n        return [];\n      }\n    });\n    return _fetchConversations.apply(this, arguments);\n  }\n  function useMessagesQuery(userId) {\n    _s();\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    var query = (0, _tanstackReactQuery.useQuery)({\n      queryKey: ['conversations', userId],\n      queryFn: () => fetchConversations(userId),\n      enabled: !!userId && (0, _appIntegrationsSupabaseClient.isSupabaseConfigured)(),\n      staleTime: 30000,\n      // 30 seconds\n      gcTime: 600000,\n      // 10 minutes\n      refetchOnFocus: false\n    });\n    var refetch = (0, _react.useCallback)(() => {\n      console.log('useMessagesQuery: Manual refetch triggered');\n      return queryClient.invalidateQueries({\n        queryKey: ['conversations', userId]\n      });\n    }, [queryClient, userId]);\n    return {\n      conversations: query.data || [],\n      loading: query.isLoading,\n      error: query.error,\n      refetch,\n      isRefetching: query.isRefetching\n    };\n  }\n  _s(useMessagesQuery, \"s7BkFUHpLNWbmmi6bwbYyH71afY=\", false, function () {\n    return [_tanstackReactQuery.useQueryClient, _tanstackReactQuery.useQuery];\n  });\n});","lineCount":194,"map":[[13,2,198,0,"exports"],[13,9,198,0],[13,10,198,0,"useMessagesQuery"],[13,26,198,0],[13,29,198,0,"useMessagesQuery"],[13,45,198,0],[14,2,222,1],[14,6,222,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,222,1],[14,45,222,1,"require"],[14,52,222,1],[14,53,222,1,"_dependencyMap"],[14,67,222,1],[15,2,222,1],[15,6,222,1,"_asyncToGenerator"],[15,23,222,1],[15,26,222,1,"_interopDefault"],[15,41,222,1],[15,42,222,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,222,1],[16,2,2,0],[16,6,2,0,"_tanstackReactQuery"],[16,25,2,0],[16,28,2,0,"require"],[16,35,2,0],[16,36,2,0,"_dependencyMap"],[16,50,2,0],[17,2,3,0],[17,6,3,0,"_react"],[17,12,3,0],[17,15,3,0,"require"],[17,22,3,0],[17,23,3,0,"_dependencyMap"],[17,37,3,0],[18,2,4,0],[18,6,4,0,"_appIntegrationsSupabaseClient"],[18,36,4,0],[18,39,4,0,"require"],[18,46,4,0],[18,47,4,0,"_dependencyMap"],[18,61,4,0],[19,2,21,0],[19,6,21,6,"MESSAGES_LIMIT"],[19,20,21,20],[19,23,21,23],[19,25,21,25],[20,2,21,26],[20,11,23,15,"fetchConversations"],[20,29,23,33,"fetchConversations"],[20,30,23,33,"_x"],[20,32,23,33],[21,4,23,33],[21,11,23,33,"_fetchConversations"],[21,30,23,33],[21,31,23,33,"apply"],[21,36,23,33],[21,43,23,33,"arguments"],[21,52,23,33],[22,2,23,33],[23,2,23,33],[23,11,23,33,"_fetchConversations"],[23,31,23,33],[24,4,23,33,"_fetchConversations"],[24,23,23,33],[24,30,23,33,"_asyncToGenerator"],[24,47,23,33],[24,48,23,33,"default"],[24,55,23,33],[24,57,23,0],[24,68,23,34,"userId"],[24,74,23,48],[24,76,23,75],[25,6,24,2,"console"],[25,13,24,9],[25,14,24,10,"log"],[25,17,24,13],[25,18,24,14],[25,70,24,66],[25,72,24,68,"userId"],[25,78,24,74],[25,79,24,75],[26,6,26,2],[26,10,26,6],[26,11,26,7],[26,15,26,7,"isSupabaseConfigured"],[26,45,26,27],[26,46,26,27,"isSupabaseConfigured"],[26,66,26,27],[26,68,26,28],[26,69,26,29],[26,71,26,31],[27,8,27,4,"console"],[27,15,27,11],[27,16,27,12,"log"],[27,19,27,15],[27,20,27,16],[27,63,27,59],[27,64,27,60],[28,8,28,4],[28,15,28,11],[28,17,28,13],[29,6,29,2],[30,6,31,2],[30,10,31,6],[31,8,32,4],[32,8,33,4],[32,12,33,4,"_yield$supabase$from$"],[32,33,33,4],[32,42,33,59,"supabase"],[32,72,33,67],[32,73,33,67,"supabase"],[32,81,33,67],[32,82,34,7,"from"],[32,86,34,11],[32,87,34,12],[32,97,34,22],[32,98,34,23],[32,99,35,7,"select"],[32,105,35,13],[32,106,35,14],[32,162,35,70],[32,163,35,71],[32,164,36,7,"or"],[32,166,36,9],[32,167,36,10],[32,183,36,26,"userId"],[32,189,36,32],[32,209,36,52,"userId"],[32,215,36,58],[32,217,36,60],[32,218,36,61],[32,219,37,7,"order"],[32,224,37,12],[32,225,37,13],[32,237,37,25],[32,239,37,27],[33,12,37,29,"ascending"],[33,21,37,38],[33,23,37,40],[34,10,37,46],[34,11,37,47],[34,12,37,48],[34,13,38,7,"limit"],[34,18,38,12],[34,19,38,13,"MESSAGES_LIMIT"],[34,33,38,27],[34,34,38,28],[35,10,33,18,"messages"],[35,18,33,26],[35,21,33,26,"_yield$supabase$from$"],[35,42,33,26],[35,43,33,12,"data"],[35,47,33,16],[36,10,33,35,"messagesError"],[36,23,33,48],[36,26,33,48,"_yield$supabase$from$"],[36,47,33,48],[36,48,33,28,"error"],[36,53,33,33],[37,8,40,4],[37,12,40,8,"messagesError"],[37,25,40,21],[37,29,40,25,"messagesError"],[37,42,40,38],[37,43,40,39,"code"],[37,47,40,43],[37,52,40,48],[37,62,40,58],[37,64,40,60],[38,10,41,6,"console"],[38,17,41,13],[38,18,41,14,"error"],[38,23,41,19],[38,24,41,20],[38,68,41,64],[38,70,41,66,"messagesError"],[38,83,41,79],[38,84,41,80],[39,8,42,4],[40,8,44,4,"console"],[40,15,44,11],[40,16,44,12,"log"],[40,19,44,15],[40,20,44,16],[40,47,44,43],[40,49,44,45,"messages"],[40,57,44,53],[40,59,44,55,"length"],[40,65,44,61],[40,69,44,65],[40,70,44,66],[40,72,44,68],[40,89,44,85],[40,90,44,86],[42,8,46,4],[43,8,47,4],[43,12,47,10,"uniqueUserIds"],[43,25,47,23],[43,28,47,26],[43,32,47,30,"Set"],[43,35,47,33],[43,36,47,42],[43,37,47,43],[44,8,48,4],[44,9,48,5,"messages"],[44,17,48,13],[44,21,48,17],[44,23,48,19],[44,25,48,21,"forEach"],[44,32,48,28],[44,33,48,30,"msg"],[44,36,48,38],[44,40,48,43],[45,10,49,6],[45,14,49,10,"msg"],[45,17,49,13],[45,18,49,14,"sender_id"],[45,27,49,23],[45,32,49,28,"userId"],[45,38,49,34],[45,40,49,36,"uniqueUserIds"],[45,53,49,49],[45,54,49,50,"add"],[45,57,49,53],[45,58,49,54,"msg"],[45,61,49,57],[45,62,49,58,"sender_id"],[45,71,49,67],[45,72,49,68],[46,10,50,6],[46,14,50,10,"msg"],[46,17,50,13],[46,18,50,14,"recipient_id"],[46,30,50,26],[46,35,50,31,"userId"],[46,41,50,37],[46,43,50,39,"uniqueUserIds"],[46,56,50,52],[46,57,50,53,"add"],[46,60,50,56],[46,61,50,57,"msg"],[46,64,50,60],[46,65,50,61,"recipient_id"],[46,77,50,73],[46,78,50,74],[47,8,51,4],[47,9,51,5],[47,10,51,6],[48,8,53,4],[48,12,53,10,"userDetailsMap"],[48,26,53,24],[48,29,53,27],[48,33,53,31,"Map"],[48,36,53,34],[48,37,53,48],[48,38,53,49],[49,8,54,4],[49,12,54,8,"uniqueUserIds"],[49,25,54,21],[49,26,54,22,"size"],[49,30,54,26],[49,33,54,29],[49,34,54,30],[49,36,54,32],[50,10,55,6],[50,14,55,6,"_yield$supabase$from$2"],[50,36,55,6],[50,45,55,42,"supabase"],[50,75,55,50],[50,76,55,50,"supabase"],[50,84,55,50],[50,85,56,9,"from"],[50,89,56,13],[50,90,56,14],[50,97,56,21],[50,98,56,22],[50,99,57,9,"select"],[50,105,57,15],[50,106,57,16],[50,156,57,66],[50,157,57,67],[50,158,58,9,"in"],[50,160,58,11],[50,161,58,12],[50,165,58,16],[50,167,58,18,"Array"],[50,172,58,23],[50,173,58,24,"from"],[50,177,58,28],[50,178,58,29,"uniqueUserIds"],[50,191,58,42],[50,192,58,43],[50,193,58,44],[51,12,55,20,"userDetails"],[51,23,55,31],[51,26,55,31,"_yield$supabase$from$2"],[51,48,55,31],[51,49,55,14,"data"],[51,53,55,18],[52,10,60,6],[52,11,60,7,"userDetails"],[52,22,60,18],[52,26,60,22],[52,28,60,24],[52,30,60,26,"forEach"],[52,37,60,33],[52,38,60,35,"u"],[52,39,60,41],[52,43,60,46],[53,12,61,8,"userDetailsMap"],[53,26,61,22],[53,27,61,23,"set"],[53,30,61,26],[53,31,61,27,"u"],[53,32,61,28],[53,33,61,29,"id"],[53,35,61,31],[53,37,61,33,"u"],[53,38,61,34],[53,39,61,35],[54,10,62,6],[54,11,62,7],[54,12,62,8],[55,8,63,4],[57,8,65,4],[58,8,66,4],[58,12,66,4,"_yield$supabase$from$3"],[58,34,66,4],[58,43,66,63,"supabase"],[58,73,66,71],[58,74,66,71,"supabase"],[58,82,66,71],[58,83,67,7,"from"],[58,87,67,11],[58,88,67,12],[58,103,67,27],[58,104,67,28],[58,105,68,7,"select"],[58,111,68,13],[58,112,68,14],[58,122,68,24],[58,123,68,25],[58,124,69,7,"eq"],[58,126,69,9],[58,127,69,10],[58,136,69,19],[58,138,69,21,"userId"],[58,144,69,27],[58,145,69,28],[58,146,70,7,"limit"],[58,151,70,12],[58,152,70,13,"MESSAGES_LIMIT"],[58,166,70,27],[58,167,70,28],[59,10,66,18,"userGroups"],[59,20,66,28],[59,23,66,28,"_yield$supabase$from$3"],[59,45,66,28],[59,46,66,12,"data"],[59,50,66,16],[60,10,66,37,"userGroupsError"],[60,25,66,52],[60,28,66,52,"_yield$supabase$from$3"],[60,50,66,52],[60,51,66,30,"error"],[60,56,66,35],[61,8,72,4],[61,12,72,8,"userGroupsError"],[61,27,72,23],[61,31,72,27,"userGroupsError"],[61,46,72,42],[61,47,72,43,"code"],[61,51,72,47],[61,56,72,52],[61,66,72,62],[61,68,72,64],[62,10,73,6,"console"],[62,17,73,13],[62,18,73,14,"error"],[62,23,73,19],[62,24,73,20],[62,71,73,67],[62,73,73,69,"userGroupsError"],[62,88,73,84],[62,89,73,85],[63,8,74,4],[64,8,76,4,"console"],[64,15,76,11],[64,16,76,12,"log"],[64,19,76,15],[64,20,76,16],[64,57,76,53],[64,59,76,55,"userGroups"],[64,69,76,65],[64,71,76,67,"length"],[64,77,76,73],[64,81,76,77],[64,82,76,78],[64,84,76,80],[64,92,76,88],[64,93,76,89],[65,8,78,4],[65,12,78,8,"groupConversations"],[65,30,78,42],[65,33,78,45],[65,35,78,47],[66,8,79,4],[66,12,79,8,"userGroups"],[66,22,79,18],[66,26,79,22,"userGroups"],[66,36,79,32],[66,37,79,33,"length"],[66,43,79,39],[66,46,79,42],[66,47,79,43],[66,49,79,45],[67,10,80,6],[67,14,80,12,"groupIds"],[67,22,80,20],[67,25,80,23,"userGroups"],[67,35,80,33],[67,36,80,34,"map"],[67,39,80,37],[67,40,80,38,"g"],[67,41,80,39],[67,45,80,43,"g"],[67,46,80,44],[67,47,80,45,"group_id"],[67,55,80,53],[67,56,80,54],[68,10,82,6],[68,14,82,6,"_yield$supabase$from$4"],[68,36,82,6],[68,45,82,57,"supabase"],[68,75,82,65],[68,76,82,65,"supabase"],[68,84,82,65],[68,85,83,9,"from"],[68,89,83,13],[68,90,83,14],[68,103,83,27],[68,104,83,28],[68,105,84,9,"select"],[68,111,84,15],[68,112,84,16],[68,134,84,38],[68,135,84,39],[68,136,85,9,"in"],[68,138,85,11],[68,139,85,12],[68,143,85,16],[68,145,85,18,"groupIds"],[68,153,85,26],[68,154,85,27],[69,12,82,20,"groups"],[69,18,82,26],[69,21,82,26,"_yield$supabase$from$4"],[69,43,82,26],[69,44,82,14,"data"],[69,48,82,18],[70,12,82,35,"groupsError"],[70,23,82,46],[70,26,82,46,"_yield$supabase$from$4"],[70,48,82,46],[70,49,82,28,"error"],[70,54,82,33],[71,10,87,6],[71,14,87,10,"groupsError"],[71,25,87,21],[71,29,87,25,"groupsError"],[71,40,87,36],[71,41,87,37,"code"],[71,45,87,41],[71,50,87,46],[71,60,87,56],[71,62,87,58],[72,12,88,8,"console"],[72,19,88,15],[72,20,88,16,"error"],[72,25,88,21],[72,26,88,22],[72,68,88,64],[72,70,88,66,"groupsError"],[72,81,88,77],[72,82,88,78],[73,10,89,6],[73,11,89,7],[73,17,89,13],[74,12,90,8,"console"],[74,19,90,15],[74,20,90,16,"log"],[74,23,90,19],[74,24,90,20],[74,51,90,47],[74,53,90,49,"groups"],[74,59,90,55],[74,61,90,57,"length"],[74,67,90,63],[74,71,90,67],[74,72,90,68],[74,74,90,70],[74,89,90,85],[74,90,90,86],[76,12,92,8],[77,12,93,8],[77,16,93,8,"_yield$supabase$from$5"],[77,38,93,8],[77,47,93,57,"supabase"],[77,77,93,65],[77,78,93,65,"supabase"],[77,86,93,65],[77,87,94,11,"from"],[77,91,94,15],[77,92,94,16],[77,112,94,36],[77,113,94,37],[77,114,95,11,"select"],[77,120,95,17],[77,121,95,18],[77,170,95,67],[77,171,95,68],[77,172,96,11,"eq"],[77,174,96,13],[77,175,96,14],[77,184,96,23],[77,186,96,25,"userId"],[77,192,96,31],[77,193,96,32],[78,14,93,22,"mutes"],[78,19,93,27],[78,22,93,27,"_yield$supabase$from$5"],[78,44,93,27],[78,45,93,16,"data"],[78,49,93,20],[79,14,93,36,"mutesError"],[79,24,93,46],[79,27,93,46,"_yield$supabase$from$5"],[79,49,93,46],[79,50,93,29,"error"],[79,55,93,34],[80,12,98,8],[80,16,98,12,"mutesError"],[80,26,98,22],[80,30,98,26,"mutesError"],[80,40,98,36],[80,41,98,37,"code"],[80,45,98,41],[80,50,98,46],[80,60,98,56],[80,62,98,58],[81,14,99,10,"console"],[81,21,99,17],[81,22,99,18,"log"],[81,25,99,21],[81,26,99,22],[81,82,99,78],[81,84,99,80,"mutesError"],[81,94,99,90],[81,95,99,91],[82,12,100,8],[83,12,102,8],[83,16,102,14,"mutesMap"],[83,24,102,22],[83,27,102,25],[83,31,102,29,"Map"],[83,34,102,32],[83,35,102,50],[83,36,102,51],[84,12,103,8],[84,13,103,9,"mutes"],[84,18,103,14],[84,22,103,18],[84,24,103,20],[84,26,103,22,"forEach"],[84,33,103,29],[84,34,103,31,"mute"],[84,38,103,40],[84,42,103,45],[85,14,104,10],[85,18,104,16,"key"],[85,21,104,19],[85,24,104,22],[85,27,104,25,"mute"],[85,31,104,29],[85,32,104,30,"conversation_type"],[85,49,104,47],[85,53,104,51,"mute"],[85,57,104,55],[85,58,104,56,"conversation_id"],[85,73,104,71],[85,75,104,73],[86,14,105,10],[86,18,105,16,"isMuted"],[86,25,105,23],[86,28,105,26],[86,29,105,27,"mute"],[86,33,105,31],[86,34,105,32,"muted_until"],[86,45,105,43],[86,49,105,47],[86,53,105,51,"Date"],[86,57,105,55],[86,58,105,56,"mute"],[86,62,105,60],[86,63,105,61,"muted_until"],[86,74,105,72],[86,75,105,73],[86,78,105,76],[86,82,105,80,"Date"],[86,86,105,84],[86,87,105,85],[86,88,105,86],[87,14,106,10,"mutesMap"],[87,22,106,18],[87,23,106,19,"set"],[87,26,106,22],[87,27,106,23,"key"],[87,30,106,26],[87,32,106,28,"isMuted"],[87,39,106,35],[87,40,106,36],[88,12,107,8],[88,13,107,9],[88,14,107,10],[89,12,109,8],[89,17,109,13],[89,21,109,19,"group"],[89,26,109,24],[89,30,109,28,"groups"],[89,36,109,34],[89,40,109,38],[89,42,109,40],[89,44,109,42],[90,14,110,10],[90,18,110,10,"_yield$supabase$from$6"],[90,40,110,10],[90,49,110,68,"supabase"],[90,79,110,76],[90,80,110,76,"supabase"],[90,88,110,76],[90,89,111,13,"from"],[90,93,111,17],[90,94,111,18],[90,110,111,34],[90,111,111,35],[90,112,112,13,"select"],[90,118,112,19],[90,119,112,20],[90,140,112,41],[90,141,112,42],[90,142,113,13,"eq"],[90,144,113,15],[90,145,113,16],[90,155,113,26],[90,157,113,28,"group"],[90,162,113,33],[90,163,113,34,"id"],[90,165,113,36],[90,166,113,37],[90,167,114,13,"order"],[90,172,114,18],[90,173,114,19],[90,185,114,31],[90,187,114,33],[91,18,114,35,"ascending"],[91,27,114,44],[91,29,114,46],[92,16,114,52],[92,17,114,53],[92,18,114,54],[92,19,115,13,"limit"],[92,24,115,18],[92,25,115,19],[92,26,115,20],[92,27,115,21],[93,16,110,24,"lastMessages"],[93,28,110,36],[93,31,110,36,"_yield$supabase$from$6"],[93,53,110,36],[93,54,110,18,"data"],[93,58,110,22],[94,16,110,45,"lastMsgError"],[94,28,110,57],[94,31,110,57,"_yield$supabase$from$6"],[94,53,110,57],[94,54,110,38,"error"],[94,59,110,43],[95,14,117,10],[95,18,117,14,"lastMsgError"],[95,30,117,26],[95,34,117,30,"lastMsgError"],[95,46,117,42],[95,47,117,43,"code"],[95,51,117,47],[95,56,117,52],[95,66,117,62],[95,68,117,64],[96,16,118,12,"console"],[96,23,118,19],[96,24,118,20,"log"],[96,27,118,23],[96,28,118,24],[96,93,118,89],[96,95,118,91,"lastMsgError"],[96,107,118,103],[96,108,118,104],[97,14,119,10],[98,14,121,10],[98,18,121,10,"_yield$supabase$from$7"],[98,40,121,10],[98,49,121,66,"supabase"],[98,79,121,74],[98,80,121,74,"supabase"],[98,88,121,74],[98,89,122,13,"from"],[98,93,122,17],[98,94,122,18],[98,109,122,33],[98,110,122,34],[98,111,123,13,"select"],[98,117,123,19],[98,118,123,20],[98,121,123,23],[98,123,123,25],[99,18,123,27,"count"],[99,23,123,32],[99,25,123,34],[99,32,123,41],[100,18,123,43,"head"],[100,22,123,47],[100,24,123,49],[101,16,123,54],[101,17,123,55],[101,18,123,56],[101,19,124,13,"eq"],[101,21,124,15],[101,22,124,16],[101,32,124,26],[101,34,124,28,"group"],[101,39,124,33],[101,40,124,34,"id"],[101,42,124,36],[101,43,124,37],[102,16,121,25,"memberCount"],[102,27,121,36],[102,30,121,36,"_yield$supabase$from$7"],[102,52,121,36],[102,53,121,18,"count"],[102,58,121,23],[103,16,121,45,"countError"],[103,26,121,55],[103,29,121,55,"_yield$supabase$from$7"],[103,51,121,55],[103,52,121,38,"error"],[103,57,121,43],[104,14,126,10],[104,18,126,14,"countError"],[104,28,126,24],[104,32,126,28,"countError"],[104,42,126,38],[104,43,126,39,"code"],[104,47,126,43],[104,52,126,48],[104,62,126,58],[104,64,126,60],[105,16,127,12,"console"],[105,23,127,19],[105,24,127,20,"log"],[105,27,127,23],[105,28,127,24],[105,92,127,88],[105,94,127,90,"countError"],[105,104,127,100],[105,105,127,101],[106,14,128,10],[107,14,130,10],[107,18,130,16,"lastMessage"],[107,29,130,27],[107,32,130,30,"lastMessages"],[107,44,130,42],[107,48,130,46,"lastMessages"],[107,60,130,58],[107,61,130,59,"length"],[107,67,130,65],[107,70,130,68],[107,71,130,69],[107,74,130,72,"lastMessages"],[107,86,130,84],[107,87,130,85],[107,88,130,86],[107,89,130,87],[107,92,130,90],[107,96,130,94],[108,14,131,10],[108,18,131,16,"muteKey"],[108,25,131,23],[108,28,131,26],[108,37,131,35,"group"],[108,42,131,40],[108,43,131,41,"id"],[108,45,131,43],[108,47,131,45],[109,14,133,10,"groupConversations"],[109,32,133,28],[109,33,133,29,"push"],[109,37,133,33],[109,38,133,34],[110,16,134,12,"id"],[110,18,134,14],[110,20,134,16,"group"],[110,25,134,21],[110,26,134,22,"id"],[110,28,134,24],[111,16,135,12,"type"],[111,20,135,16],[111,22,135,18],[111,29,135,25],[112,16,136,12,"title"],[112,21,136,17],[112,23,136,19,"group"],[112,28,136,24],[112,29,136,25,"name"],[112,33,136,29],[113,16,137,12,"lastMessage"],[113,27,137,23],[113,29,137,25,"lastMessage"],[113,40,137,36],[113,42,137,38,"content"],[113,49,137,45],[113,53,137,49],[113,70,137,66],[114,16,138,12,"lastMessageTime"],[114,31,138,27],[114,33,138,29,"lastMessage"],[114,44,138,40],[114,46,138,42,"created_at"],[114,56,138,52],[114,60,138,56,"group"],[114,65,138,61],[114,66,138,62,"created_at"],[114,76,138,72],[115,16,139,12,"unreadCount"],[115,27,139,23],[115,29,139,25],[115,30,139,26],[116,16,140,12,"memberCount"],[116,27,140,23],[116,29,140,25,"memberCount"],[116,40,140,36],[116,44,140,40],[116,45,140,41],[117,16,141,12,"isMuted"],[117,23,141,19],[117,25,141,21,"mutesMap"],[117,33,141,29],[117,34,141,30,"get"],[117,37,141,33],[117,38,141,34,"muteKey"],[117,45,141,41],[117,46,141,42],[117,50,141,46],[118,14,142,10],[118,15,142,11],[118,16,142,12],[119,12,143,8],[120,10,144,6],[121,8,145,4],[123,8,147,4],[124,8,148,4],[124,12,148,10,"directConversationsMap"],[124,34,148,32],[124,37,148,35],[124,41,148,39,"Map"],[124,44,148,42],[124,45,148,65],[124,46,148,66],[125,8,149,4],[125,9,149,5,"messages"],[125,17,149,13],[125,21,149,17],[125,23,149,19],[125,25,149,21,"forEach"],[125,32,149,28],[125,33,149,30,"message"],[125,40,149,42],[125,44,149,47],[126,10,150,6],[126,14,150,12,"isFromMe"],[126,22,150,20],[126,25,150,23,"message"],[126,32,150,30],[126,33,150,31,"sender_id"],[126,42,150,40],[126,47,150,45,"userId"],[126,53,150,51],[127,10,151,6],[127,14,151,12,"partnerId"],[127,23,151,21],[127,26,151,24,"isFromMe"],[127,34,151,32],[127,37,151,35,"message"],[127,44,151,42],[127,45,151,43,"recipient_id"],[127,57,151,55],[127,60,151,58,"message"],[127,67,151,65],[127,68,151,66,"sender_id"],[127,77,151,75],[128,10,152,6],[128,14,152,12,"partner"],[128,21,152,19],[128,24,152,22,"userDetailsMap"],[128,38,152,36],[128,39,152,37,"get"],[128,42,152,40],[128,43,152,41,"partnerId"],[128,52,152,50],[128,53,152,51],[129,10,154,6],[129,14,154,10],[129,15,154,11,"directConversationsMap"],[129,37,154,33],[129,38,154,34,"has"],[129,41,154,37],[129,42,154,38,"partnerId"],[129,51,154,47],[129,52,154,48],[129,54,154,50],[130,12,155,8],[130,16,155,14,"displayName"],[130,27,155,25],[130,30,155,28,"partner"],[130,37,155,35],[130,39,155,37,"first_name"],[130,49,155,47],[130,53,155,51,"partner"],[130,60,155,58],[130,62,155,60,"last_name"],[130,71,155,69],[130,74,156,12],[130,77,156,15,"partner"],[130,84,156,22],[130,85,156,23,"first_name"],[130,95,156,33],[130,99,156,37,"partner"],[130,106,156,44],[130,107,156,45,"last_name"],[130,116,156,54],[130,117,156,55,"charAt"],[130,123,156,61],[130,124,156,62],[130,125,156,63],[130,126,156,64],[130,129,156,67],[130,132,157,12,"partner"],[130,139,157,19],[130,141,157,21,"pickleballer_nickname"],[130,162,157,42],[130,166,157,46],[130,180,157,60],[131,12,159,8,"directConversationsMap"],[131,34,159,30],[131,35,159,31,"set"],[131,38,159,34],[131,39,159,35,"partnerId"],[131,48,159,44],[131,50,159,46],[132,14,160,10,"id"],[132,16,160,12],[132,18,160,14,"partnerId"],[132,27,160,23],[133,14,161,10,"type"],[133,18,161,14],[133,20,161,16],[133,28,161,24],[134,14,162,10,"title"],[134,19,162,15],[134,21,162,17,"displayName"],[134,32,162,28],[135,14,163,10,"userId"],[135,20,163,16],[135,22,163,18,"partnerId"],[135,31,163,27],[136,14,164,10,"userFirstName"],[136,27,164,23],[136,29,164,25,"partner"],[136,36,164,32],[136,38,164,34,"first_name"],[136,48,164,44],[137,14,165,10,"userLastName"],[137,26,165,22],[137,28,165,24,"partner"],[137,35,165,31],[137,37,165,33,"last_name"],[137,46,165,42],[138,14,166,10,"userNickname"],[138,26,166,22],[138,28,166,24,"partner"],[138,35,166,31],[138,37,166,33,"pickleballer_nickname"],[138,58,166,54],[139,14,167,10,"lastMessage"],[139,25,167,21],[139,27,167,23,"message"],[139,34,167,30],[139,35,167,31,"content"],[139,42,167,38],[139,46,167,42],[139,48,167,44],[140,14,168,10,"lastMessageTime"],[140,29,168,25],[140,31,168,27,"message"],[140,38,168,34],[140,39,168,35,"created_at"],[140,49,168,45],[141,14,169,10,"unreadCount"],[141,25,169,21],[141,27,169,23],[141,28,169,24],[142,14,170,10,"isMuted"],[142,21,170,17],[142,23,170,19],[143,12,171,8],[143,13,171,9],[143,14,171,10],[144,10,172,6],[145,10,174,6],[145,14,174,10],[145,15,174,11,"isFromMe"],[145,23,174,19],[145,27,174,23],[145,28,174,24,"message"],[145,35,174,31],[145,36,174,32,"read"],[145,40,174,36],[145,42,174,38],[146,12,175,8],[146,16,175,14,"conv"],[146,20,175,18],[146,23,175,21,"directConversationsMap"],[146,45,175,43],[146,46,175,44,"get"],[146,49,175,47],[146,50,175,48,"partnerId"],[146,59,175,57],[146,60,175,58],[147,12,176,8],[147,16,176,12,"conv"],[147,20,176,16],[147,22,176,18],[148,14,177,10,"conv"],[148,18,177,14],[148,19,177,15,"unreadCount"],[148,30,177,26],[148,34,177,30],[148,35,177,31],[149,12,178,8],[150,10,179,6],[151,8,180,4],[151,9,180,5],[151,10,180,6],[152,8,182,4],[152,12,182,10,"allConversations"],[152,28,182,26],[152,31,182,29],[152,32,183,6],[152,35,183,9,"Array"],[152,40,183,14],[152,41,183,15,"from"],[152,45,183,19],[152,46,183,20,"directConversationsMap"],[152,68,183,42],[152,69,183,43,"values"],[152,75,183,49],[152,76,183,50],[152,77,183,51],[152,78,183,52],[152,80,184,6],[152,83,184,9,"groupConversations"],[152,101,184,27],[152,102,185,5],[152,103,185,6,"sort"],[152,107,185,10],[152,108,185,11],[152,109,185,12,"a"],[152,110,185,13],[152,112,185,15,"b"],[152,113,185,16],[152,118,185,21],[153,10,186,6],[153,17,186,13],[153,21,186,17,"Date"],[153,25,186,21],[153,26,186,22,"b"],[153,27,186,23],[153,28,186,24,"lastMessageTime"],[153,43,186,39],[153,44,186,40],[153,45,186,41,"getTime"],[153,52,186,48],[153,53,186,49],[153,54,186,50],[153,57,186,53],[153,61,186,57,"Date"],[153,65,186,61],[153,66,186,62,"a"],[153,67,186,63],[153,68,186,64,"lastMessageTime"],[153,83,186,79],[153,84,186,80],[153,85,186,81,"getTime"],[153,92,186,88],[153,93,186,89],[153,94,186,90],[154,8,187,4],[154,9,187,5],[154,10,187,6],[155,8,189,4,"console"],[155,15,189,11],[155,16,189,12,"log"],[155,19,189,15],[155,20,189,16],[155,46,189,42],[155,48,189,44,"allConversations"],[155,64,189,60],[155,65,189,61,"length"],[155,71,189,67],[155,73,189,69],[155,94,189,90],[155,95,189,91],[156,8,191,4],[156,15,191,11,"allConversations"],[156,31,191,27],[157,6,192,2],[157,7,192,3],[157,8,192,4],[157,15,192,11,"err"],[157,18,192,19],[157,20,192,21],[158,8,193,4,"console"],[158,15,193,11],[158,16,193,12,"error"],[158,21,193,17],[158,22,193,18],[158,70,193,66],[158,72,193,68,"err"],[158,75,193,71],[158,76,193,72],[159,8,194,4],[159,15,194,11],[159,17,194,13],[160,6,195,2],[161,4,196,0],[161,5,196,1],[162,4,196,1],[162,11,196,1,"_fetchConversations"],[162,30,196,1],[162,31,196,1,"apply"],[162,36,196,1],[162,43,196,1,"arguments"],[162,52,196,1],[163,2,196,1],[164,2,198,7],[164,11,198,16,"useMessagesQuery"],[164,27,198,32,"useMessagesQuery"],[164,28,198,33,"userId"],[164,34,198,48],[164,36,198,50],[165,4,198,50,"_s"],[165,6,198,50],[166,4,199,2],[166,8,199,8,"queryClient"],[166,19,199,19],[166,22,199,22],[166,26,199,22,"useQueryClient"],[166,45,199,36],[166,46,199,36,"useQueryClient"],[166,60,199,36],[166,62,199,37],[166,63,199,38],[167,4,201,2],[167,8,201,8,"query"],[167,13,201,13],[167,16,201,16],[167,20,201,16,"useQuery"],[167,39,201,24],[167,40,201,24,"useQuery"],[167,48,201,24],[167,50,201,25],[168,6,202,4,"queryKey"],[168,14,202,12],[168,16,202,14],[168,17,202,15],[168,32,202,30],[168,34,202,32,"userId"],[168,40,202,38],[168,41,202,39],[169,6,203,4,"queryFn"],[169,13,203,11],[169,15,203,13,"queryFn"],[169,16,203,13],[169,21,203,19,"fetchConversations"],[169,39,203,37],[169,40,203,38,"userId"],[169,46,203,45],[169,47,203,46],[170,6,204,4,"enabled"],[170,13,204,11],[170,15,204,13],[170,16,204,14],[170,17,204,15,"userId"],[170,23,204,21],[170,27,204,25],[170,31,204,25,"isSupabaseConfigured"],[170,61,204,45],[170,62,204,45,"isSupabaseConfigured"],[170,82,204,45],[170,84,204,46],[170,85,204,47],[171,6,205,4,"staleTime"],[171,15,205,13],[171,17,205,15],[171,22,205,20],[172,6,205,22],[173,6,206,4,"gcTime"],[173,12,206,10],[173,14,206,12],[173,20,206,18],[174,6,206,20],[175,6,207,4,"refetchOnFocus"],[175,20,207,18],[175,22,207,20],[176,4,208,2],[176,5,208,3],[176,6,208,4],[177,4,210,2],[177,8,210,8,"refetch"],[177,15,210,15],[177,18,210,18],[177,22,210,18,"useCallback"],[177,28,210,29],[177,29,210,29,"useCallback"],[177,40,210,29],[177,42,210,30],[177,48,210,36],[178,6,211,4,"console"],[178,13,211,11],[178,14,211,12,"log"],[178,17,211,15],[178,18,211,16],[178,62,211,60],[178,63,211,61],[179,6,212,4],[179,13,212,11,"queryClient"],[179,24,212,22],[179,25,212,23,"invalidateQueries"],[179,42,212,40],[179,43,212,41],[180,8,212,43,"queryKey"],[180,16,212,51],[180,18,212,53],[180,19,212,54],[180,34,212,69],[180,36,212,71,"userId"],[180,42,212,77],[181,6,212,79],[181,7,212,80],[181,8,212,81],[182,4,213,2],[182,5,213,3],[182,7,213,5],[182,8,213,6,"queryClient"],[182,19,213,17],[182,21,213,19,"userId"],[182,27,213,25],[182,28,213,26],[182,29,213,27],[183,4,215,2],[183,11,215,9],[184,6,216,4,"conversations"],[184,19,216,17],[184,21,216,19,"query"],[184,26,216,24],[184,27,216,25,"data"],[184,31,216,29],[184,35,216,33],[184,37,216,35],[185,6,217,4,"loading"],[185,13,217,11],[185,15,217,13,"query"],[185,20,217,18],[185,21,217,19,"isLoading"],[185,30,217,28],[186,6,218,4,"error"],[186,11,218,9],[186,13,218,11,"query"],[186,18,218,16],[186,19,218,17,"error"],[186,24,218,22],[187,6,219,4,"refetch"],[187,13,219,11],[188,6,220,4,"isRefetching"],[188,18,220,16],[188,20,220,18,"query"],[188,25,220,23],[188,26,220,24,"isRefetching"],[189,4,221,2],[189,5,221,3],[190,2,222,0],[191,2,222,1,"_s"],[191,4,222,1],[191,5,198,16,"useMessagesQuery"],[191,21,198,32],[192,4,198,32],[192,12,199,22,"useQueryClient"],[192,31,199,36],[192,32,199,36,"useQueryClient"],[192,46,199,36],[192,48,201,16,"useQuery"],[192,67,201,24],[192,68,201,24,"useQuery"],[192,76,201,24],[193,2,201,24],[194,0,201,24],[194,3]],"functionMap":{"names":["<global>","fetchConversations","forEach$argument_0","userGroups.map$argument_0","sort$argument_0","useMessagesQuery","useQuery$argument_0.queryFn","refetch"],"mappings":"AAA;ACsB;6BCyB;KDG;kCCS;ODE;sCEkB,eF;8BCuB;SDI;6BC0C;KD+B;WGK;KHE;CDS;OKE;aCK,iCD;8BEO;GFG;CLS"},"hasCjsExports":false},"type":"js/module"}]}