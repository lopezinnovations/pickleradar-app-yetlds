{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":245},"end":{"line":11,"column":26,"index":271}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../core/incomplete","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":272},"end":{"line":12,"column":59,"index":331}}],"key":"N3zIORm8x0j/FUCY8Lj/PUWxfS8=","exportNames":["*"],"imports":1}},{"name":"../core/parser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":332},"end":{"line":13,"column":51,"index":383}}],"key":"GkdKZ9CGgo5jQeSGU9olRMbeBHs=","exportNames":["*"],"imports":1}},{"name":"./ASTRenderer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0,"index":384},"end":{"line":14,"column":82,"index":466}}],"key":"u27akHr4BdK3ubg1dMc7QFvwdjk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/expo-project/node_modules/streamdown-rn/dist/renderers/ActiveBlock.js\";\n  /**\n   * ActiveBlock Renderer\n   *\n   * Renders the currently streaming block with format-as-you-type UX.\n   *\n   * Flow:\n   * 1. Fix incomplete markdown tags (auto-close for preview)\n   * 2. Parse with remark to get AST\n   * 3. Render AST with ASTRenderer\n   */\n  /**\n   * ActiveBlock component — renders the currently streaming block.\n   *\n   * This component INTENTIONALLY re-renders on each token.\n   * It applies \"format-as-you-type\" by auto-closing incomplete tags.\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"ActiveBlock\", {\n    enumerable: true,\n    get: function () {\n      return ActiveBlock;\n    }\n  });\n  require(_dependencyMap[0], \"react\");\n  var _coreIncomplete = require(_dependencyMap[1], \"../core/incomplete\");\n  var _coreParser = require(_dependencyMap[2], \"../core/parser\");\n  var _ASTRenderer = require(_dependencyMap[3], \"./ASTRenderer\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const ActiveBlock = ({\n    block,\n    tagState,\n    theme,\n    componentRegistry\n  }) => {\n    // No active block — nothing to render\n    if (!block || !block.content.trim()) {\n      return null;\n    }\n    // Special handling for component blocks (don't use remark)\n    if (block.type === 'component') {\n      const {\n        name,\n        props\n      } = (0, _ASTRenderer.extractComponentData)(block.content);\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_ASTRenderer.ComponentBlock, {\n        componentName: name,\n        props: props,\n        isStreaming: true,\n        theme: theme,\n        componentRegistry: componentRegistry\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this);\n    }\n    // Fix incomplete markdown for format-as-you-type UX\n    const fixedContent = (0, _coreIncomplete.fixIncompleteMarkdown)(block.content, tagState);\n    // Parse with remark\n    const ast = (0, _coreParser.parseBlockContent)(fixedContent);\n    // Render from AST\n    if (ast) {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_ASTRenderer.ASTRenderer, {\n        node: ast,\n        theme: theme,\n        componentRegistry: componentRegistry,\n        isStreaming: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this);\n    }\n    // Fallback if parsing fails (shouldn't happen)\n    return null;\n  };\n  ActiveBlock.displayName = 'ActiveBlock';\n});","lineCount":84,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,0,5,0],[10,0,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,2,15,0],[16,0,16,0],[17,0,17,0],[18,0,18,0],[19,0,19,0],[20,0,20,0],[21,2,15,0,"Object"],[21,8,15,0],[21,9,15,0,"defineProperty"],[21,23,15,0],[21,24,15,0,"exports"],[21,31,15,0],[22,4,15,0,"value"],[22,9,15,0],[23,2,15,0],[24,2,21,0,"Object"],[24,8,21,0],[24,9,21,0,"defineProperty"],[24,23,21,0],[24,24,21,0,"exports"],[24,31,21,0],[25,4,21,0,"enumerable"],[25,14,21,0],[26,4,21,0,"get"],[26,7,21,0],[26,18,21,0,"get"],[26,19,21,0],[27,6,21,0],[27,13,21,0,"ActiveBlock"],[27,24,21,0],[28,4,21,0],[29,2,21,0],[30,2,11,0,"require"],[30,9,11,0],[30,10,11,0,"_dependencyMap"],[30,24,11,0],[31,2,12,0],[31,6,12,0,"_coreIncomplete"],[31,21,12,0],[31,24,12,0,"require"],[31,31,12,0],[31,32,12,0,"_dependencyMap"],[31,46,12,0],[32,2,13,0],[32,6,13,0,"_coreParser"],[32,17,13,0],[32,20,13,0,"require"],[32,27,13,0],[32,28,13,0,"_dependencyMap"],[32,42,13,0],[33,2,14,0],[33,6,14,0,"_ASTRenderer"],[33,18,14,0],[33,21,14,0,"require"],[33,28,14,0],[33,29,14,0,"_dependencyMap"],[33,43,14,0],[34,2,14,82],[34,6,14,82,"_reactJsxDevRuntime"],[34,25,14,82],[34,28,14,82,"require"],[34,35,14,82],[34,36,14,82,"_dependencyMap"],[34,50,14,82],[35,2,21,7],[35,8,21,13,"ActiveBlock"],[35,19,21,24],[35,22,21,27,"ActiveBlock"],[35,23,21,28],[36,4,21,30,"block"],[36,9,21,35],[37,4,21,37,"tagState"],[37,12,21,45],[38,4,21,47,"theme"],[38,9,21,52],[39,4,21,54,"componentRegistry"],[40,2,21,73],[40,3,21,74],[40,8,21,79],[41,4,22,4],[42,4,23,4],[42,8,23,8],[42,9,23,9,"block"],[42,14,23,14],[42,18,23,18],[42,19,23,19,"block"],[42,24,23,24],[42,25,23,25,"content"],[42,32,23,32],[42,33,23,33,"trim"],[42,37,23,37],[42,38,23,38],[42,39,23,39],[42,41,23,41],[43,6,24,8],[43,13,24,15],[43,17,24,19],[44,4,25,4],[45,4,26,4],[46,4,27,4],[46,8,27,8,"block"],[46,13,27,13],[46,14,27,14,"type"],[46,18,27,18],[46,23,27,23],[46,34,27,34],[46,36,27,36],[47,6,28,8],[47,12,28,14],[48,8,28,16,"name"],[48,12,28,20],[49,8,28,22,"props"],[50,6,28,28],[50,7,28,29],[50,10,28,32],[50,14,28,32,"extractComponentData"],[50,26,28,52],[50,27,28,52,"extractComponentData"],[50,47,28,52],[50,49,28,53,"block"],[50,54,28,58],[50,55,28,59,"content"],[50,62,28,66],[50,63,28,67],[51,6,29,8],[51,26,29,16],[51,30,29,16,"_reactJsxDevRuntime"],[51,49,29,16],[51,50,29,16,"jsxDEV"],[51,56,29,16],[51,58,29,17,"_ASTRenderer"],[51,70,29,31],[51,71,29,31,"ComponentBlock"],[51,85,29,31],[52,8,29,32,"componentName"],[52,21,29,45],[52,23,29,47,"name"],[52,27,29,52],[53,8,29,53,"props"],[53,13,29,58],[53,15,29,60,"props"],[53,20,29,66],[54,8,29,67,"isStreaming"],[54,19,29,78],[54,21,29,80],[54,25,29,85],[55,8,29,86,"theme"],[55,13,29,91],[55,15,29,93,"theme"],[55,20,29,99],[56,8,29,100,"componentRegistry"],[56,25,29,117],[56,27,29,119,"componentRegistry"],[57,6,29,137],[58,8,29,137,"fileName"],[58,16,29,137],[58,18,29,137,"_jsxFileName"],[58,30,29,137],[59,8,29,137,"lineNumber"],[59,18,29,137],[60,8,29,137,"columnNumber"],[60,20,29,137],[61,6,29,137],[61,13,29,138],[61,14,29,139],[62,4,30,4],[63,4,31,4],[64,4,32,4],[64,10,32,10,"fixedContent"],[64,22,32,22],[64,25,32,25],[64,29,32,25,"fixIncompleteMarkdown"],[64,44,32,46],[64,45,32,46,"fixIncompleteMarkdown"],[64,66,32,46],[64,68,32,47,"block"],[64,73,32,52],[64,74,32,53,"content"],[64,81,32,60],[64,83,32,62,"tagState"],[64,91,32,70],[64,92,32,71],[65,4,33,4],[66,4,34,4],[66,10,34,10,"ast"],[66,13,34,13],[66,16,34,16],[66,20,34,16,"parseBlockContent"],[66,31,34,33],[66,32,34,33,"parseBlockContent"],[66,49,34,33],[66,51,34,34,"fixedContent"],[66,63,34,46],[66,64,34,47],[67,4,35,4],[68,4,36,4],[68,8,36,8,"ast"],[68,11,36,11],[68,13,36,13],[69,6,37,8],[69,26,37,16],[69,30,37,16,"_reactJsxDevRuntime"],[69,49,37,16],[69,50,37,16,"jsxDEV"],[69,56,37,16],[69,58,37,17,"_ASTRenderer"],[69,70,37,28],[69,71,37,28,"ASTRenderer"],[69,82,37,28],[70,8,37,29,"node"],[70,12,37,33],[70,14,37,35,"ast"],[70,17,37,39],[71,8,37,40,"theme"],[71,13,37,45],[71,15,37,47,"theme"],[71,20,37,53],[72,8,37,54,"componentRegistry"],[72,25,37,71],[72,27,37,73,"componentRegistry"],[72,44,37,91],[73,8,37,92,"isStreaming"],[73,19,37,103],[73,21,37,105],[74,6,37,110],[75,8,37,110,"fileName"],[75,16,37,110],[75,18,37,110,"_jsxFileName"],[75,30,37,110],[76,8,37,110,"lineNumber"],[76,18,37,110],[77,8,37,110,"columnNumber"],[77,20,37,110],[78,6,37,110],[78,13,37,111],[78,14,37,112],[79,4,38,4],[80,4,39,4],[81,4,40,4],[81,11,40,11],[81,15,40,15],[82,2,41,0],[82,3,41,1],[83,2,42,0,"ActiveBlock"],[83,13,42,11],[83,14,42,12,"displayName"],[83,25,42,23],[83,28,42,26],[83,41,42,39],[84,0,42,40],[84,3]],"functionMap":{"names":["<global>","ActiveBlock"],"mappings":"AAA;2BCoB;CDoB"},"hasCjsExports":false},"type":"js/module"}]}