{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.zwitch = zwitch;\n  /**\n   * @callback Handler\n   *   Handle a value, with a certain ID field set to a certain value.\n   *   The ID field is passed to `zwitch`, and it’s value is this function’s\n   *   place on the `handlers` record.\n   * @param {...any} parameters\n   *   Arbitrary parameters passed to the zwitch.\n   *   The first will be an object with a certain ID field set to a certain value.\n   * @returns {any}\n   *   Anything!\n   */\n\n  /**\n   * @callback UnknownHandler\n   *   Handle values that do have a certain ID field, but it’s set to a value\n   *   that is not listed in the `handlers` record.\n   * @param {unknown} value\n   *   An object with a certain ID field set to an unknown value.\n   * @param {...any} rest\n   *   Arbitrary parameters passed to the zwitch.\n   * @returns {any}\n   *   Anything!\n   */\n\n  /**\n   * @callback InvalidHandler\n   *   Handle values that do not have a certain ID field.\n   * @param {unknown} value\n   *   Any unknown value.\n   * @param {...any} rest\n   *   Arbitrary parameters passed to the zwitch.\n   * @returns {void|null|undefined|never}\n   *   This should crash or return nothing.\n   */\n\n  /**\n   * @template {InvalidHandler} [Invalid=InvalidHandler]\n   * @template {UnknownHandler} [Unknown=UnknownHandler]\n   * @template {Record<string, Handler>} [Handlers=Record<string, Handler>]\n   * @typedef Options\n   *   Configuration (required).\n   * @property {Invalid} [invalid]\n   *   Handler to use for invalid values.\n   * @property {Unknown} [unknown]\n   *   Handler to use for unknown values.\n   * @property {Handlers} [handlers]\n   *   Handlers to use.\n   */\n\n  const own = {}.hasOwnProperty;\n\n  /**\n   * Handle values based on a field.\n   *\n   * @template {InvalidHandler} [Invalid=InvalidHandler]\n   * @template {UnknownHandler} [Unknown=UnknownHandler]\n   * @template {Record<string, Handler>} [Handlers=Record<string, Handler>]\n   * @param {string} key\n   *   Field to switch on.\n   * @param {Options<Invalid, Unknown, Handlers>} [options]\n   *   Configuration (required).\n   * @returns {{unknown: Unknown, invalid: Invalid, handlers: Handlers, (...parameters: Parameters<Handlers[keyof Handlers]>): ReturnType<Handlers[keyof Handlers]>, (...parameters: Parameters<Unknown>): ReturnType<Unknown>}}\n   */\n  function zwitch(key, options) {\n    const settings = options || {};\n\n    /**\n     * Handle one value.\n     *\n     * Based on the bound `key`, a respective handler will be called.\n     * If `value` is not an object, or doesn’t have a `key` property, the special\n     * “invalid” handler will be called.\n     * If `value` has an unknown `key`, the special “unknown” handler will be\n     * called.\n     *\n     * All arguments, and the context object, are passed through to the handler,\n     * and it’s result is returned.\n     *\n     * @this {unknown}\n     *   Any context object.\n     * @param {unknown} [value]\n     *   Any value.\n     * @param {...unknown} parameters\n     *   Arbitrary parameters passed to the zwitch.\n     * @property {Handler} invalid\n     *   Handle for values that do not have a certain ID field.\n     * @property {Handler} unknown\n     *   Handle values that do have a certain ID field, but it’s set to a value\n     *   that is not listed in the `handlers` record.\n     * @property {Handlers} handlers\n     *   Record of handlers.\n     * @returns {unknown}\n     *   Anything.\n     */\n    function one(value, ...parameters) {\n      /** @type {Handler|undefined} */\n      let fn = one.invalid;\n      const handlers = one.handlers;\n      if (value && own.call(value, key)) {\n        // @ts-expect-error Indexable.\n        const id = String(value[key]);\n        // @ts-expect-error Indexable.\n        fn = own.call(handlers, id) ? handlers[id] : one.unknown;\n      }\n      if (fn) {\n        return fn.call(this, value, ...parameters);\n      }\n    }\n    one.handlers = settings.handlers || {};\n    one.invalid = settings.invalid;\n    one.unknown = settings.unknown;\n\n    // @ts-expect-error: matches!\n    return one;\n  }\n});","lineCount":123,"map":[[7,2,64,0,"exports"],[7,9,64,0],[7,10,64,0,"zwitch"],[7,16,64,0],[7,19,64,0,"zwitch"],[7,25,64,0],[8,2,1,0],[9,0,2,0],[10,0,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[20,2,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[32,2,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,0,33,0],[41,0,34,0],[43,2,36,0],[44,0,37,0],[45,0,38,0],[46,0,39,0],[47,0,40,0],[48,0,41,0],[49,0,42,0],[50,0,43,0],[51,0,44,0],[52,0,45,0],[53,0,46,0],[54,0,47,0],[55,0,48,0],[57,2,50,0],[57,8,50,6,"own"],[57,11,50,9],[57,14,50,12],[57,15,50,13],[57,16,50,14],[57,17,50,15,"hasOwnProperty"],[57,31,50,29],[59,2,52,0],[60,0,53,0],[61,0,54,0],[62,0,55,0],[63,0,56,0],[64,0,57,0],[65,0,58,0],[66,0,59,0],[67,0,60,0],[68,0,61,0],[69,0,62,0],[70,0,63,0],[71,2,64,7],[71,11,64,16,"zwitch"],[71,17,64,22,"zwitch"],[71,18,64,23,"key"],[71,21,64,26],[71,23,64,28,"options"],[71,30,64,35],[71,32,64,37],[72,4,65,2],[72,10,65,8,"settings"],[72,18,65,16],[72,21,65,19,"options"],[72,28,65,26],[72,32,65,30],[72,33,65,31],[72,34,65,32],[74,4,67,2],[75,0,68,0],[76,0,69,0],[77,0,70,0],[78,0,71,0],[79,0,72,0],[80,0,73,0],[81,0,74,0],[82,0,75,0],[83,0,76,0],[84,0,77,0],[85,0,78,0],[86,0,79,0],[87,0,80,0],[88,0,81,0],[89,0,82,0],[90,0,83,0],[91,0,84,0],[92,0,85,0],[93,0,86,0],[94,0,87,0],[95,0,88,0],[96,0,89,0],[97,0,90,0],[98,0,91,0],[99,0,92,0],[100,0,93,0],[101,0,94,0],[102,4,95,2],[102,13,95,11,"one"],[102,16,95,14,"one"],[102,17,95,15,"value"],[102,22,95,20],[102,24,95,22],[102,27,95,25,"parameters"],[102,37,95,35],[102,39,95,37],[103,6,96,4],[104,6,97,4],[104,10,97,8,"fn"],[104,12,97,10],[104,15,97,13,"one"],[104,18,97,16],[104,19,97,17,"invalid"],[104,26,97,24],[105,6,98,4],[105,12,98,10,"handlers"],[105,20,98,18],[105,23,98,21,"one"],[105,26,98,24],[105,27,98,25,"handlers"],[105,35,98,33],[106,6,100,4],[106,10,100,8,"value"],[106,15,100,13],[106,19,100,17,"own"],[106,22,100,20],[106,23,100,21,"call"],[106,27,100,25],[106,28,100,26,"value"],[106,33,100,31],[106,35,100,33,"key"],[106,38,100,36],[106,39,100,37],[106,41,100,39],[107,8,101,6],[108,8,102,6],[108,14,102,12,"id"],[108,16,102,14],[108,19,102,17,"String"],[108,25,102,23],[108,26,102,24,"value"],[108,31,102,29],[108,32,102,30,"key"],[108,35,102,33],[108,36,102,34],[108,37,102,35],[109,8,103,6],[110,8,104,6,"fn"],[110,10,104,8],[110,13,104,11,"own"],[110,16,104,14],[110,17,104,15,"call"],[110,21,104,19],[110,22,104,20,"handlers"],[110,30,104,28],[110,32,104,30,"id"],[110,34,104,32],[110,35,104,33],[110,38,104,36,"handlers"],[110,46,104,44],[110,47,104,45,"id"],[110,49,104,47],[110,50,104,48],[110,53,104,51,"one"],[110,56,104,54],[110,57,104,55,"unknown"],[110,64,104,62],[111,6,105,4],[112,6,107,4],[112,10,107,8,"fn"],[112,12,107,10],[112,14,107,12],[113,8,108,6],[113,15,108,13,"fn"],[113,17,108,15],[113,18,108,16,"call"],[113,22,108,20],[113,23,108,21],[113,27,108,25],[113,29,108,27,"value"],[113,34,108,32],[113,36,108,34],[113,39,108,37,"parameters"],[113,49,108,47],[113,50,108,48],[114,6,109,4],[115,4,110,2],[116,4,112,2,"one"],[116,7,112,5],[116,8,112,6,"handlers"],[116,16,112,14],[116,19,112,17,"settings"],[116,27,112,25],[116,28,112,26,"handlers"],[116,36,112,34],[116,40,112,38],[116,41,112,39],[116,42,112,40],[117,4,113,2,"one"],[117,7,113,5],[117,8,113,6,"invalid"],[117,15,113,13],[117,18,113,16,"settings"],[117,26,113,24],[117,27,113,25,"invalid"],[117,34,113,32],[118,4,114,2,"one"],[118,7,114,5],[118,8,114,6,"unknown"],[118,15,114,13],[118,18,114,16,"settings"],[118,26,114,24],[118,27,114,25,"unknown"],[118,34,114,32],[120,4,116,2],[121,4,117,2],[121,11,117,9,"one"],[121,14,117,12],[122,2,118,0],[123,0,118,1],[123,3]],"functionMap":{"names":["<global>","zwitch","one"],"mappings":"AAA;OC+D;EC+B;GDe;CDQ"},"hasCjsExports":false},"type":"js/module"}]}