{"dependencies":[{"name":"../util/check-quote.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":141},"end":{"line":7,"column":49,"index":190}}],"key":"QkM71tY061FrF+JYKDAvuR+i0es=","exportNames":["*"],"imports":1}},{"name":"../util/format-link-as-autolink.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":191},"end":{"line":8,"column":71,"index":262}}],"key":"VJyFMjCwIvo6xejFvVVZwBZfLG0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.link = link;\n  var _utilCheckQuoteJs = require(_dependencyMap[0], \"../util/check-quote.js\");\n  var _utilFormatLinkAsAutolinkJs = require(_dependencyMap[1], \"../util/format-link-as-autolink.js\");\n  /**\n   * @import {Info, State} from 'mdast-util-to-markdown'\n   * @import {Link, Parents} from 'mdast'\n   * @import {Exit} from '../types.js'\n   */\n\n  link.peek = linkPeek;\n\n  /**\n   * @param {Link} node\n   * @param {Parents | undefined} _\n   * @param {State} state\n   * @param {Info} info\n   * @returns {string}\n   */\n  function link(node, _, state, info) {\n    const quote = (0, _utilCheckQuoteJs.checkQuote)(state);\n    const suffix = quote === '\"' ? 'Quote' : 'Apostrophe';\n    const tracker = state.createTracker(info);\n    /** @type {Exit} */\n    let exit;\n    /** @type {Exit} */\n    let subexit;\n    if ((0, _utilFormatLinkAsAutolinkJs.formatLinkAsAutolink)(node, state)) {\n      // Hide the fact that we’re in phrasing, because escapes don’t work.\n      const stack = state.stack;\n      state.stack = [];\n      exit = state.enter('autolink');\n      let value = tracker.move('<');\n      value += tracker.move(state.containerPhrasing(node, {\n        before: value,\n        after: '>',\n        ...tracker.current()\n      }));\n      value += tracker.move('>');\n      exit();\n      state.stack = stack;\n      return value;\n    }\n    exit = state.enter('link');\n    subexit = state.enter('label');\n    let value = tracker.move('[');\n    value += tracker.move(state.containerPhrasing(node, {\n      before: value,\n      after: '](',\n      ...tracker.current()\n    }));\n    value += tracker.move('](');\n    subexit();\n    if (\n    // If there’s no url but there is a title…\n    !node.url && node.title ||\n    // If there are control characters or whitespace.\n    /[\\0- \\u007F]/.test(node.url)) {\n      subexit = state.enter('destinationLiteral');\n      value += tracker.move('<');\n      value += tracker.move(state.safe(node.url, {\n        before: value,\n        after: '>',\n        ...tracker.current()\n      }));\n      value += tracker.move('>');\n    } else {\n      // No whitespace, raw is prettier.\n      subexit = state.enter('destinationRaw');\n      value += tracker.move(state.safe(node.url, {\n        before: value,\n        after: node.title ? ' ' : ')',\n        ...tracker.current()\n      }));\n    }\n    subexit();\n    if (node.title) {\n      subexit = state.enter(`title${suffix}`);\n      value += tracker.move(' ' + quote);\n      value += tracker.move(state.safe(node.title, {\n        before: value,\n        after: quote,\n        ...tracker.current()\n      }));\n      value += tracker.move(quote);\n      subexit();\n    }\n    value += tracker.move(')');\n    exit();\n    return value;\n  }\n\n  /**\n   * @param {Link} node\n   * @param {Parents | undefined} _\n   * @param {State} state\n   * @returns {string}\n   */\n  function linkPeek(node, _, state) {\n    return (0, _utilFormatLinkAsAutolinkJs.formatLinkAsAutolink)(node, state) ? '<' : '[';\n  }\n});","lineCount":107,"map":[[7,2,19,0,"exports"],[7,9,19,0],[7,10,19,0,"link"],[7,14,19,0],[7,17,19,0,"link"],[7,21,19,0],[8,2,7,0],[8,6,7,0,"_utilCheckQuoteJs"],[8,23,7,0],[8,26,7,0,"require"],[8,33,7,0],[8,34,7,0,"_dependencyMap"],[8,48,7,0],[9,2,8,0],[9,6,8,0,"_utilFormatLinkAsAutolinkJs"],[9,33,8,0],[9,36,8,0,"require"],[9,43,8,0],[9,44,8,0,"_dependencyMap"],[9,58,8,0],[10,2,1,0],[11,0,2,0],[12,0,3,0],[13,0,4,0],[14,0,5,0],[16,2,10,0,"link"],[16,6,10,4],[16,7,10,5,"peek"],[16,11,10,9],[16,14,10,12,"linkPeek"],[16,22,10,20],[18,2,12,0],[19,0,13,0],[20,0,14,0],[21,0,15,0],[22,0,16,0],[23,0,17,0],[24,0,18,0],[25,2,19,7],[25,11,19,16,"link"],[25,15,19,20,"link"],[25,16,19,21,"node"],[25,20,19,25],[25,22,19,27,"_"],[25,23,19,28],[25,25,19,30,"state"],[25,30,19,35],[25,32,19,37,"info"],[25,36,19,41],[25,38,19,43],[26,4,20,2],[26,10,20,8,"quote"],[26,15,20,13],[26,18,20,16],[26,22,20,16,"checkQuote"],[26,39,20,26],[26,40,20,26,"checkQuote"],[26,50,20,26],[26,52,20,27,"state"],[26,57,20,32],[26,58,20,33],[27,4,21,2],[27,10,21,8,"suffix"],[27,16,21,14],[27,19,21,17,"quote"],[27,24,21,22],[27,29,21,27],[27,32,21,30],[27,35,21,33],[27,42,21,40],[27,45,21,43],[27,57,21,55],[28,4,22,2],[28,10,22,8,"tracker"],[28,17,22,15],[28,20,22,18,"state"],[28,25,22,23],[28,26,22,24,"createTracker"],[28,39,22,37],[28,40,22,38,"info"],[28,44,22,42],[28,45,22,43],[29,4,23,2],[30,4,24,2],[30,8,24,6,"exit"],[30,12,24,10],[31,4,25,2],[32,4,26,2],[32,8,26,6,"subexit"],[32,15,26,13],[33,4,28,2],[33,8,28,6],[33,12,28,6,"formatLinkAsAutolink"],[33,39,28,26],[33,40,28,26,"formatLinkAsAutolink"],[33,60,28,26],[33,62,28,27,"node"],[33,66,28,31],[33,68,28,33,"state"],[33,73,28,38],[33,74,28,39],[33,76,28,41],[34,6,29,4],[35,6,30,4],[35,12,30,10,"stack"],[35,17,30,15],[35,20,30,18,"state"],[35,25,30,23],[35,26,30,24,"stack"],[35,31,30,29],[36,6,31,4,"state"],[36,11,31,9],[36,12,31,10,"stack"],[36,17,31,15],[36,20,31,18],[36,22,31,20],[37,6,32,4,"exit"],[37,10,32,8],[37,13,32,11,"state"],[37,18,32,16],[37,19,32,17,"enter"],[37,24,32,22],[37,25,32,23],[37,35,32,33],[37,36,32,34],[38,6,33,4],[38,10,33,8,"value"],[38,15,33,13],[38,18,33,16,"tracker"],[38,25,33,23],[38,26,33,24,"move"],[38,30,33,28],[38,31,33,29],[38,34,33,32],[38,35,33,33],[39,6,34,4,"value"],[39,11,34,9],[39,15,34,13,"tracker"],[39,22,34,20],[39,23,34,21,"move"],[39,27,34,25],[39,28,35,6,"state"],[39,33,35,11],[39,34,35,12,"containerPhrasing"],[39,51,35,29],[39,52,35,30,"node"],[39,56,35,34],[39,58,35,36],[40,8,36,8,"before"],[40,14,36,14],[40,16,36,16,"value"],[40,21,36,21],[41,8,37,8,"after"],[41,13,37,13],[41,15,37,15],[41,18,37,18],[42,8,38,8],[42,11,38,11,"tracker"],[42,18,38,18],[42,19,38,19,"current"],[42,26,38,26],[42,27,38,27],[43,6,39,6],[43,7,39,7],[43,8,40,4],[43,9,40,5],[44,6,41,4,"value"],[44,11,41,9],[44,15,41,13,"tracker"],[44,22,41,20],[44,23,41,21,"move"],[44,27,41,25],[44,28,41,26],[44,31,41,29],[44,32,41,30],[45,6,42,4,"exit"],[45,10,42,8],[45,11,42,9],[45,12,42,10],[46,6,43,4,"state"],[46,11,43,9],[46,12,43,10,"stack"],[46,17,43,15],[46,20,43,18,"stack"],[46,25,43,23],[47,6,44,4],[47,13,44,11,"value"],[47,18,44,16],[48,4,45,2],[49,4,47,2,"exit"],[49,8,47,6],[49,11,47,9,"state"],[49,16,47,14],[49,17,47,15,"enter"],[49,22,47,20],[49,23,47,21],[49,29,47,27],[49,30,47,28],[50,4,48,2,"subexit"],[50,11,48,9],[50,14,48,12,"state"],[50,19,48,17],[50,20,48,18,"enter"],[50,25,48,23],[50,26,48,24],[50,33,48,31],[50,34,48,32],[51,4,49,2],[51,8,49,6,"value"],[51,13,49,11],[51,16,49,14,"tracker"],[51,23,49,21],[51,24,49,22,"move"],[51,28,49,26],[51,29,49,27],[51,32,49,30],[51,33,49,31],[52,4,50,2,"value"],[52,9,50,7],[52,13,50,11,"tracker"],[52,20,50,18],[52,21,50,19,"move"],[52,25,50,23],[52,26,51,4,"state"],[52,31,51,9],[52,32,51,10,"containerPhrasing"],[52,49,51,27],[52,50,51,28,"node"],[52,54,51,32],[52,56,51,34],[53,6,52,6,"before"],[53,12,52,12],[53,14,52,14,"value"],[53,19,52,19],[54,6,53,6,"after"],[54,11,53,11],[54,13,53,13],[54,17,53,17],[55,6,54,6],[55,9,54,9,"tracker"],[55,16,54,16],[55,17,54,17,"current"],[55,24,54,24],[55,25,54,25],[56,4,55,4],[56,5,55,5],[56,6,56,2],[56,7,56,3],[57,4,57,2,"value"],[57,9,57,7],[57,13,57,11,"tracker"],[57,20,57,18],[57,21,57,19,"move"],[57,25,57,23],[57,26,57,24],[57,30,57,28],[57,31,57,29],[58,4,58,2,"subexit"],[58,11,58,9],[58,12,58,10],[58,13,58,11],[59,4,60,2],[60,4,61,4],[61,4,62,5],[61,5,62,6,"node"],[61,9,62,10],[61,10,62,11,"url"],[61,13,62,14],[61,17,62,18,"node"],[61,21,62,22],[61,22,62,23,"title"],[61,27,62,28],[62,4,63,4],[63,4,64,4],[63,18,64,18],[63,19,64,19,"test"],[63,23,64,23],[63,24,64,24,"node"],[63,28,64,28],[63,29,64,29,"url"],[63,32,64,32],[63,33,64,33],[63,35,65,4],[64,6,66,4,"subexit"],[64,13,66,11],[64,16,66,14,"state"],[64,21,66,19],[64,22,66,20,"enter"],[64,27,66,25],[64,28,66,26],[64,48,66,46],[64,49,66,47],[65,6,67,4,"value"],[65,11,67,9],[65,15,67,13,"tracker"],[65,22,67,20],[65,23,67,21,"move"],[65,27,67,25],[65,28,67,26],[65,31,67,29],[65,32,67,30],[66,6,68,4,"value"],[66,11,68,9],[66,15,68,13,"tracker"],[66,22,68,20],[66,23,68,21,"move"],[66,27,68,25],[66,28,69,6,"state"],[66,33,69,11],[66,34,69,12,"safe"],[66,38,69,16],[66,39,69,17,"node"],[66,43,69,21],[66,44,69,22,"url"],[66,47,69,25],[66,49,69,27],[67,8,69,28,"before"],[67,14,69,34],[67,16,69,36,"value"],[67,21,69,41],[68,8,69,43,"after"],[68,13,69,48],[68,15,69,50],[68,18,69,53],[69,8,69,55],[69,11,69,58,"tracker"],[69,18,69,65],[69,19,69,66,"current"],[69,26,69,73],[69,27,69,74],[70,6,69,75],[70,7,69,76],[70,8,70,4],[70,9,70,5],[71,6,71,4,"value"],[71,11,71,9],[71,15,71,13,"tracker"],[71,22,71,20],[71,23,71,21,"move"],[71,27,71,25],[71,28,71,26],[71,31,71,29],[71,32,71,30],[72,4,72,2],[72,5,72,3],[72,11,72,9],[73,6,73,4],[74,6,74,4,"subexit"],[74,13,74,11],[74,16,74,14,"state"],[74,21,74,19],[74,22,74,20,"enter"],[74,27,74,25],[74,28,74,26],[74,44,74,42],[74,45,74,43],[75,6,75,4,"value"],[75,11,75,9],[75,15,75,13,"tracker"],[75,22,75,20],[75,23,75,21,"move"],[75,27,75,25],[75,28,76,6,"state"],[75,33,76,11],[75,34,76,12,"safe"],[75,38,76,16],[75,39,76,17,"node"],[75,43,76,21],[75,44,76,22,"url"],[75,47,76,25],[75,49,76,27],[76,8,77,8,"before"],[76,14,77,14],[76,16,77,16,"value"],[76,21,77,21],[77,8,78,8,"after"],[77,13,78,13],[77,15,78,15,"node"],[77,19,78,19],[77,20,78,20,"title"],[77,25,78,25],[77,28,78,28],[77,31,78,31],[77,34,78,34],[77,37,78,37],[78,8,79,8],[78,11,79,11,"tracker"],[78,18,79,18],[78,19,79,19,"current"],[78,26,79,26],[78,27,79,27],[79,6,80,6],[79,7,80,7],[79,8,81,4],[79,9,81,5],[80,4,82,2],[81,4,84,2,"subexit"],[81,11,84,9],[81,12,84,10],[81,13,84,11],[82,4,86,2],[82,8,86,6,"node"],[82,12,86,10],[82,13,86,11,"title"],[82,18,86,16],[82,20,86,18],[83,6,87,4,"subexit"],[83,13,87,11],[83,16,87,14,"state"],[83,21,87,19],[83,22,87,20,"enter"],[83,27,87,25],[83,28,87,26],[83,36,87,34,"suffix"],[83,42,87,40],[83,44,87,42],[83,45,87,43],[84,6,88,4,"value"],[84,11,88,9],[84,15,88,13,"tracker"],[84,22,88,20],[84,23,88,21,"move"],[84,27,88,25],[84,28,88,26],[84,31,88,29],[84,34,88,32,"quote"],[84,39,88,37],[84,40,88,38],[85,6,89,4,"value"],[85,11,89,9],[85,15,89,13,"tracker"],[85,22,89,20],[85,23,89,21,"move"],[85,27,89,25],[85,28,90,6,"state"],[85,33,90,11],[85,34,90,12,"safe"],[85,38,90,16],[85,39,90,17,"node"],[85,43,90,21],[85,44,90,22,"title"],[85,49,90,27],[85,51,90,29],[86,8,91,8,"before"],[86,14,91,14],[86,16,91,16,"value"],[86,21,91,21],[87,8,92,8,"after"],[87,13,92,13],[87,15,92,15,"quote"],[87,20,92,20],[88,8,93,8],[88,11,93,11,"tracker"],[88,18,93,18],[88,19,93,19,"current"],[88,26,93,26],[88,27,93,27],[89,6,94,6],[89,7,94,7],[89,8,95,4],[89,9,95,5],[90,6,96,4,"value"],[90,11,96,9],[90,15,96,13,"tracker"],[90,22,96,20],[90,23,96,21,"move"],[90,27,96,25],[90,28,96,26,"quote"],[90,33,96,31],[90,34,96,32],[91,6,97,4,"subexit"],[91,13,97,11],[91,14,97,12],[91,15,97,13],[92,4,98,2],[93,4,100,2,"value"],[93,9,100,7],[93,13,100,11,"tracker"],[93,20,100,18],[93,21,100,19,"move"],[93,25,100,23],[93,26,100,24],[93,29,100,27],[93,30,100,28],[94,4,102,2,"exit"],[94,8,102,6],[94,9,102,7],[94,10,102,8],[95,4,103,2],[95,11,103,9,"value"],[95,16,103,14],[96,2,104,0],[98,2,106,0],[99,0,107,0],[100,0,108,0],[101,0,109,0],[102,0,110,0],[103,0,111,0],[104,2,112,0],[104,11,112,9,"linkPeek"],[104,19,112,17,"linkPeek"],[104,20,112,18,"node"],[104,24,112,22],[104,26,112,24,"_"],[104,27,112,25],[104,29,112,27,"state"],[104,34,112,32],[104,36,112,34],[105,4,113,2],[105,11,113,9],[105,15,113,9,"formatLinkAsAutolink"],[105,42,113,29],[105,43,113,29,"formatLinkAsAutolink"],[105,63,113,29],[105,65,113,30,"node"],[105,69,113,34],[105,71,113,36,"state"],[105,76,113,41],[105,77,113,42],[105,80,113,45],[105,83,113,48],[105,86,113,51],[105,89,113,54],[106,2,114,0],[107,0,114,1],[107,3]],"functionMap":{"names":["<global>","link","linkPeek"],"mappings":"AAA;OCkB;CDqF;AEQ;CFE"},"hasCjsExports":false},"type":"js/module"}]}