{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.splice = splice;\n  exports.push = push;\n  /**\n   * Like `Array#splice`, but smarter for giant arrays.\n   *\n   * `Array#splice` takes all items to be inserted as individual argument which\n   * causes a stack overflow in V8 when trying to insert 100k items for instance.\n   *\n   * Otherwise, this does not return the removed items, and takes `items` as an\n   * array instead of rest parameters.\n   *\n   * @template {unknown} T\n   *   Item type.\n   * @param {Array<T>} list\n   *   List to operate on.\n   * @param {number} start\n   *   Index to remove/insert at (can be negative).\n   * @param {number} remove\n   *   Number of items to remove.\n   * @param {Array<T>} items\n   *   Items to inject into `list`.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function splice(list, start, remove, items) {\n    const end = list.length;\n    let chunkStart = 0;\n    /** @type {Array<unknown>} */\n    let parameters;\n\n    // Make start between zero and `end` (included).\n    if (start < 0) {\n      start = -start > end ? 0 : end + start;\n    } else {\n      start = start > end ? end : start;\n    }\n    remove = remove > 0 ? remove : 0;\n\n    // No need to chunk the items if there’s only a couple (10k) items.\n    if (items.length < 10000) {\n      parameters = Array.from(items);\n      parameters.unshift(start, remove);\n      // @ts-expect-error Hush, it’s fine.\n      list.splice(...parameters);\n    } else {\n      // Delete `remove` items starting from `start`\n      if (remove) list.splice(start, remove);\n\n      // Insert the items in chunks to not cause stack overflows.\n      while (chunkStart < items.length) {\n        parameters = items.slice(chunkStart, chunkStart + 10000);\n        parameters.unshift(start, 0);\n        // @ts-expect-error Hush, it’s fine.\n        list.splice(...parameters);\n        chunkStart += 10000;\n        start += 10000;\n      }\n    }\n  }\n\n  /**\n   * Append `items` (an array) at the end of `list` (another array).\n   * When `list` was empty, returns `items` instead.\n   *\n   * This prevents a potentially expensive operation when `list` is empty,\n   * and adds items in batches to prevent V8 from hanging.\n   *\n   * @template {unknown} T\n   *   Item type.\n   * @param {Array<T>} list\n   *   List to operate on.\n   * @param {Array<T>} items\n   *   Items to add to `list`.\n   * @returns {Array<T>}\n   *   Either `list` or `items`.\n   */\n  function push(list, items) {\n    if (list.length > 0) {\n      splice(list, list.length, 0, items);\n      return list;\n    }\n    return items;\n  }\n});","lineCount":90,"map":[[7,2,23,0,"exports"],[7,9,23,0],[7,10,23,0,"splice"],[7,16,23,0],[7,19,23,0,"splice"],[7,25,23,0],[8,2,75,0,"exports"],[8,9,75,0],[8,10,75,0,"push"],[8,14,75,0],[8,17,75,0,"push"],[8,21,75,0],[9,2,1,0],[10,0,2,0],[11,0,3,0],[12,0,4,0],[13,0,5,0],[14,0,6,0],[15,0,7,0],[16,0,8,0],[17,0,9,0],[18,0,10,0],[19,0,11,0],[20,0,12,0],[21,0,13,0],[22,0,14,0],[23,0,15,0],[24,0,16,0],[25,0,17,0],[26,0,18,0],[27,0,19,0],[28,0,20,0],[29,0,21,0],[30,0,22,0],[31,2,23,7],[31,11,23,16,"splice"],[31,17,23,22,"splice"],[31,18,23,23,"list"],[31,22,23,27],[31,24,23,29,"start"],[31,29,23,34],[31,31,23,36,"remove"],[31,37,23,42],[31,39,23,44,"items"],[31,44,23,49],[31,46,23,51],[32,4,24,2],[32,10,24,8,"end"],[32,13,24,11],[32,16,24,14,"list"],[32,20,24,18],[32,21,24,19,"length"],[32,27,24,25],[33,4,25,2],[33,8,25,6,"chunkStart"],[33,18,25,16],[33,21,25,19],[33,22,25,20],[34,4,26,2],[35,4,27,2],[35,8,27,6,"parameters"],[35,18,27,16],[37,4,29,2],[38,4,30,2],[38,8,30,6,"start"],[38,13,30,11],[38,16,30,14],[38,17,30,15],[38,19,30,17],[39,6,31,4,"start"],[39,11,31,9],[39,14,31,12],[39,15,31,13,"start"],[39,20,31,18],[39,23,31,21,"end"],[39,26,31,24],[39,29,31,27],[39,30,31,28],[39,33,31,31,"end"],[39,36,31,34],[39,39,31,37,"start"],[39,44,31,42],[40,4,32,2],[40,5,32,3],[40,11,32,9],[41,6,33,4,"start"],[41,11,33,9],[41,14,33,12,"start"],[41,19,33,17],[41,22,33,20,"end"],[41,25,33,23],[41,28,33,26,"end"],[41,31,33,29],[41,34,33,32,"start"],[41,39,33,37],[42,4,34,2],[43,4,35,2,"remove"],[43,10,35,8],[43,13,35,11,"remove"],[43,19,35,17],[43,22,35,20],[43,23,35,21],[43,26,35,24,"remove"],[43,32,35,30],[43,35,35,33],[43,36,35,34],[45,4,37,2],[46,4,38,2],[46,8,38,6,"items"],[46,13,38,11],[46,14,38,12,"length"],[46,20,38,18],[46,23,38,21],[46,28,38,26],[46,30,38,28],[47,6,39,4,"parameters"],[47,16,39,14],[47,19,39,17,"Array"],[47,24,39,22],[47,25,39,23,"from"],[47,29,39,27],[47,30,39,28,"items"],[47,35,39,33],[47,36,39,34],[48,6,40,4,"parameters"],[48,16,40,14],[48,17,40,15,"unshift"],[48,24,40,22],[48,25,40,23,"start"],[48,30,40,28],[48,32,40,30,"remove"],[48,38,40,36],[48,39,40,37],[49,6,41,4],[50,6,42,4,"list"],[50,10,42,8],[50,11,42,9,"splice"],[50,17,42,15],[50,18,42,16],[50,21,42,19,"parameters"],[50,31,42,29],[50,32,42,30],[51,4,43,2],[51,5,43,3],[51,11,43,9],[52,6,44,4],[53,6,45,4],[53,10,45,8,"remove"],[53,16,45,14],[53,18,45,16,"list"],[53,22,45,20],[53,23,45,21,"splice"],[53,29,45,27],[53,30,45,28,"start"],[53,35,45,33],[53,37,45,35,"remove"],[53,43,45,41],[53,44,45,42],[55,6,47,4],[56,6,48,4],[56,13,48,11,"chunkStart"],[56,23,48,21],[56,26,48,24,"items"],[56,31,48,29],[56,32,48,30,"length"],[56,38,48,36],[56,40,48,38],[57,8,49,6,"parameters"],[57,18,49,16],[57,21,49,19,"items"],[57,26,49,24],[57,27,49,25,"slice"],[57,32,49,30],[57,33,49,31,"chunkStart"],[57,43,49,41],[57,45,49,43,"chunkStart"],[57,55,49,53],[57,58,49,56],[57,63,49,61],[57,64,49,62],[58,8,50,6,"parameters"],[58,18,50,16],[58,19,50,17,"unshift"],[58,26,50,24],[58,27,50,25,"start"],[58,32,50,30],[58,34,50,32],[58,35,50,33],[58,36,50,34],[59,8,51,6],[60,8,52,6,"list"],[60,12,52,10],[60,13,52,11,"splice"],[60,19,52,17],[60,20,52,18],[60,23,52,21,"parameters"],[60,33,52,31],[60,34,52,32],[61,8,53,6,"chunkStart"],[61,18,53,16],[61,22,53,20],[61,27,53,25],[62,8,54,6,"start"],[62,13,54,11],[62,17,54,15],[62,22,54,20],[63,6,55,4],[64,4,56,2],[65,2,57,0],[67,2,59,0],[68,0,60,0],[69,0,61,0],[70,0,62,0],[71,0,63,0],[72,0,64,0],[73,0,65,0],[74,0,66,0],[75,0,67,0],[76,0,68,0],[77,0,69,0],[78,0,70,0],[79,0,71,0],[80,0,72,0],[81,0,73,0],[82,0,74,0],[83,2,75,7],[83,11,75,16,"push"],[83,15,75,20,"push"],[83,16,75,21,"list"],[83,20,75,25],[83,22,75,27,"items"],[83,27,75,32],[83,29,75,34],[84,4,76,2],[84,8,76,6,"list"],[84,12,76,10],[84,13,76,11,"length"],[84,19,76,17],[84,22,76,20],[84,23,76,21],[84,25,76,23],[85,6,77,4,"splice"],[85,12,77,10],[85,13,77,11,"list"],[85,17,77,15],[85,19,77,17,"list"],[85,23,77,21],[85,24,77,22,"length"],[85,30,77,28],[85,32,77,30],[85,33,77,31],[85,35,77,33,"items"],[85,40,77,38],[85,41,77,39],[86,6,78,4],[86,13,78,11,"list"],[86,17,78,15],[87,4,79,2],[88,4,80,2],[88,11,80,9,"items"],[88,16,80,14],[89,2,81,0],[90,0,81,1],[90,3]],"functionMap":{"names":["<global>","splice","push"],"mappings":"AAA;OCsB;CDkC;OEkB"},"hasCjsExports":false},"type":"js/module"}]}