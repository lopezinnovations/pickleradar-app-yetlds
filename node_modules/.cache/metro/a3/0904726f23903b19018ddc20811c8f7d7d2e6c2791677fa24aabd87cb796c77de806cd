{"dependencies":[{"name":"../util/check-quote.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":105},"end":{"line":6,"column":49,"index":154}}],"key":"QkM71tY061FrF+JYKDAvuR+i0es=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.image = image;\n  var _utilCheckQuoteJs = require(_dependencyMap[0], \"../util/check-quote.js\");\n  /**\n   * @import {Info, State} from 'mdast-util-to-markdown'\n   * @import {Image, Parents} from 'mdast'\n   */\n\n  image.peek = imagePeek;\n\n  /**\n   * @param {Image} node\n   * @param {Parents | undefined} _\n   * @param {State} state\n   * @param {Info} info\n   * @returns {string}\n   */\n  function image(node, _, state, info) {\n    const quote = (0, _utilCheckQuoteJs.checkQuote)(state);\n    const suffix = quote === '\"' ? 'Quote' : 'Apostrophe';\n    const exit = state.enter('image');\n    let subexit = state.enter('label');\n    const tracker = state.createTracker(info);\n    let value = tracker.move('![');\n    value += tracker.move(state.safe(node.alt, {\n      before: value,\n      after: ']',\n      ...tracker.current()\n    }));\n    value += tracker.move('](');\n    subexit();\n    if (\n    // If there’s no url but there is a title…\n    !node.url && node.title ||\n    // If there are control characters or whitespace.\n    /[\\0- \\u007F]/.test(node.url)) {\n      subexit = state.enter('destinationLiteral');\n      value += tracker.move('<');\n      value += tracker.move(state.safe(node.url, {\n        before: value,\n        after: '>',\n        ...tracker.current()\n      }));\n      value += tracker.move('>');\n    } else {\n      // No whitespace, raw is prettier.\n      subexit = state.enter('destinationRaw');\n      value += tracker.move(state.safe(node.url, {\n        before: value,\n        after: node.title ? ' ' : ')',\n        ...tracker.current()\n      }));\n    }\n    subexit();\n    if (node.title) {\n      subexit = state.enter(`title${suffix}`);\n      value += tracker.move(' ' + quote);\n      value += tracker.move(state.safe(node.title, {\n        before: value,\n        after: quote,\n        ...tracker.current()\n      }));\n      value += tracker.move(quote);\n      subexit();\n    }\n    value += tracker.move(')');\n    exit();\n    return value;\n  }\n\n  /**\n   * @returns {string}\n   */\n  function imagePeek() {\n    return '!';\n  }\n});","lineCount":82,"map":[[7,2,17,0,"exports"],[7,9,17,0],[7,10,17,0,"image"],[7,15,17,0],[7,18,17,0,"image"],[7,23,17,0],[8,2,6,0],[8,6,6,0,"_utilCheckQuoteJs"],[8,23,6,0],[8,26,6,0,"require"],[8,33,6,0],[8,34,6,0,"_dependencyMap"],[8,48,6,0],[9,2,1,0],[10,0,2,0],[11,0,3,0],[12,0,4,0],[14,2,8,0,"image"],[14,7,8,5],[14,8,8,6,"peek"],[14,12,8,10],[14,15,8,13,"imagePeek"],[14,24,8,22],[16,2,10,0],[17,0,11,0],[18,0,12,0],[19,0,13,0],[20,0,14,0],[21,0,15,0],[22,0,16,0],[23,2,17,7],[23,11,17,16,"image"],[23,16,17,21,"image"],[23,17,17,22,"node"],[23,21,17,26],[23,23,17,28,"_"],[23,24,17,29],[23,26,17,31,"state"],[23,31,17,36],[23,33,17,38,"info"],[23,37,17,42],[23,39,17,44],[24,4,18,2],[24,10,18,8,"quote"],[24,15,18,13],[24,18,18,16],[24,22,18,16,"checkQuote"],[24,39,18,26],[24,40,18,26,"checkQuote"],[24,50,18,26],[24,52,18,27,"state"],[24,57,18,32],[24,58,18,33],[25,4,19,2],[25,10,19,8,"suffix"],[25,16,19,14],[25,19,19,17,"quote"],[25,24,19,22],[25,29,19,27],[25,32,19,30],[25,35,19,33],[25,42,19,40],[25,45,19,43],[25,57,19,55],[26,4,20,2],[26,10,20,8,"exit"],[26,14,20,12],[26,17,20,15,"state"],[26,22,20,20],[26,23,20,21,"enter"],[26,28,20,26],[26,29,20,27],[26,36,20,34],[26,37,20,35],[27,4,21,2],[27,8,21,6,"subexit"],[27,15,21,13],[27,18,21,16,"state"],[27,23,21,21],[27,24,21,22,"enter"],[27,29,21,27],[27,30,21,28],[27,37,21,35],[27,38,21,36],[28,4,22,2],[28,10,22,8,"tracker"],[28,17,22,15],[28,20,22,18,"state"],[28,25,22,23],[28,26,22,24,"createTracker"],[28,39,22,37],[28,40,22,38,"info"],[28,44,22,42],[28,45,22,43],[29,4,23,2],[29,8,23,6,"value"],[29,13,23,11],[29,16,23,14,"tracker"],[29,23,23,21],[29,24,23,22,"move"],[29,28,23,26],[29,29,23,27],[29,33,23,31],[29,34,23,32],[30,4,24,2,"value"],[30,9,24,7],[30,13,24,11,"tracker"],[30,20,24,18],[30,21,24,19,"move"],[30,25,24,23],[30,26,25,4,"state"],[30,31,25,9],[30,32,25,10,"safe"],[30,36,25,14],[30,37,25,15,"node"],[30,41,25,19],[30,42,25,20,"alt"],[30,45,25,23],[30,47,25,25],[31,6,25,26,"before"],[31,12,25,32],[31,14,25,34,"value"],[31,19,25,39],[32,6,25,41,"after"],[32,11,25,46],[32,13,25,48],[32,16,25,51],[33,6,25,53],[33,9,25,56,"tracker"],[33,16,25,63],[33,17,25,64,"current"],[33,24,25,71],[33,25,25,72],[34,4,25,73],[34,5,25,74],[34,6,26,2],[34,7,26,3],[35,4,27,2,"value"],[35,9,27,7],[35,13,27,11,"tracker"],[35,20,27,18],[35,21,27,19,"move"],[35,25,27,23],[35,26,27,24],[35,30,27,28],[35,31,27,29],[36,4,29,2,"subexit"],[36,11,29,9],[36,12,29,10],[36,13,29,11],[37,4,31,2],[38,4,32,4],[39,4,33,5],[39,5,33,6,"node"],[39,9,33,10],[39,10,33,11,"url"],[39,13,33,14],[39,17,33,18,"node"],[39,21,33,22],[39,22,33,23,"title"],[39,27,33,28],[40,4,34,4],[41,4,35,4],[41,18,35,18],[41,19,35,19,"test"],[41,23,35,23],[41,24,35,24,"node"],[41,28,35,28],[41,29,35,29,"url"],[41,32,35,32],[41,33,35,33],[41,35,36,4],[42,6,37,4,"subexit"],[42,13,37,11],[42,16,37,14,"state"],[42,21,37,19],[42,22,37,20,"enter"],[42,27,37,25],[42,28,37,26],[42,48,37,46],[42,49,37,47],[43,6,38,4,"value"],[43,11,38,9],[43,15,38,13,"tracker"],[43,22,38,20],[43,23,38,21,"move"],[43,27,38,25],[43,28,38,26],[43,31,38,29],[43,32,38,30],[44,6,39,4,"value"],[44,11,39,9],[44,15,39,13,"tracker"],[44,22,39,20],[44,23,39,21,"move"],[44,27,39,25],[44,28,40,6,"state"],[44,33,40,11],[44,34,40,12,"safe"],[44,38,40,16],[44,39,40,17,"node"],[44,43,40,21],[44,44,40,22,"url"],[44,47,40,25],[44,49,40,27],[45,8,40,28,"before"],[45,14,40,34],[45,16,40,36,"value"],[45,21,40,41],[46,8,40,43,"after"],[46,13,40,48],[46,15,40,50],[46,18,40,53],[47,8,40,55],[47,11,40,58,"tracker"],[47,18,40,65],[47,19,40,66,"current"],[47,26,40,73],[47,27,40,74],[48,6,40,75],[48,7,40,76],[48,8,41,4],[48,9,41,5],[49,6,42,4,"value"],[49,11,42,9],[49,15,42,13,"tracker"],[49,22,42,20],[49,23,42,21,"move"],[49,27,42,25],[49,28,42,26],[49,31,42,29],[49,32,42,30],[50,4,43,2],[50,5,43,3],[50,11,43,9],[51,6,44,4],[52,6,45,4,"subexit"],[52,13,45,11],[52,16,45,14,"state"],[52,21,45,19],[52,22,45,20,"enter"],[52,27,45,25],[52,28,45,26],[52,44,45,42],[52,45,45,43],[53,6,46,4,"value"],[53,11,46,9],[53,15,46,13,"tracker"],[53,22,46,20],[53,23,46,21,"move"],[53,27,46,25],[53,28,47,6,"state"],[53,33,47,11],[53,34,47,12,"safe"],[53,38,47,16],[53,39,47,17,"node"],[53,43,47,21],[53,44,47,22,"url"],[53,47,47,25],[53,49,47,27],[54,8,48,8,"before"],[54,14,48,14],[54,16,48,16,"value"],[54,21,48,21],[55,8,49,8,"after"],[55,13,49,13],[55,15,49,15,"node"],[55,19,49,19],[55,20,49,20,"title"],[55,25,49,25],[55,28,49,28],[55,31,49,31],[55,34,49,34],[55,37,49,37],[56,8,50,8],[56,11,50,11,"tracker"],[56,18,50,18],[56,19,50,19,"current"],[56,26,50,26],[56,27,50,27],[57,6,51,6],[57,7,51,7],[57,8,52,4],[57,9,52,5],[58,4,53,2],[59,4,55,2,"subexit"],[59,11,55,9],[59,12,55,10],[59,13,55,11],[60,4,57,2],[60,8,57,6,"node"],[60,12,57,10],[60,13,57,11,"title"],[60,18,57,16],[60,20,57,18],[61,6,58,4,"subexit"],[61,13,58,11],[61,16,58,14,"state"],[61,21,58,19],[61,22,58,20,"enter"],[61,27,58,25],[61,28,58,26],[61,36,58,34,"suffix"],[61,42,58,40],[61,44,58,42],[61,45,58,43],[62,6,59,4,"value"],[62,11,59,9],[62,15,59,13,"tracker"],[62,22,59,20],[62,23,59,21,"move"],[62,27,59,25],[62,28,59,26],[62,31,59,29],[62,34,59,32,"quote"],[62,39,59,37],[62,40,59,38],[63,6,60,4,"value"],[63,11,60,9],[63,15,60,13,"tracker"],[63,22,60,20],[63,23,60,21,"move"],[63,27,60,25],[63,28,61,6,"state"],[63,33,61,11],[63,34,61,12,"safe"],[63,38,61,16],[63,39,61,17,"node"],[63,43,61,21],[63,44,61,22,"title"],[63,49,61,27],[63,51,61,29],[64,8,62,8,"before"],[64,14,62,14],[64,16,62,16,"value"],[64,21,62,21],[65,8,63,8,"after"],[65,13,63,13],[65,15,63,15,"quote"],[65,20,63,20],[66,8,64,8],[66,11,64,11,"tracker"],[66,18,64,18],[66,19,64,19,"current"],[66,26,64,26],[66,27,64,27],[67,6,65,6],[67,7,65,7],[67,8,66,4],[67,9,66,5],[68,6,67,4,"value"],[68,11,67,9],[68,15,67,13,"tracker"],[68,22,67,20],[68,23,67,21,"move"],[68,27,67,25],[68,28,67,26,"quote"],[68,33,67,31],[68,34,67,32],[69,6,68,4,"subexit"],[69,13,68,11],[69,14,68,12],[69,15,68,13],[70,4,69,2],[71,4,71,2,"value"],[71,9,71,7],[71,13,71,11,"tracker"],[71,20,71,18],[71,21,71,19,"move"],[71,25,71,23],[71,26,71,24],[71,29,71,27],[71,30,71,28],[72,4,72,2,"exit"],[72,8,72,6],[72,9,72,7],[72,10,72,8],[73,4,74,2],[73,11,74,9,"value"],[73,16,74,14],[74,2,75,0],[76,2,77,0],[77,0,78,0],[78,0,79,0],[79,2,80,0],[79,11,80,9,"imagePeek"],[79,20,80,18,"imagePeek"],[79,21,80,18],[79,23,80,21],[80,4,81,2],[80,11,81,9],[80,14,81,12],[81,2,82,0],[82,0,82,1],[82,3]],"functionMap":{"names":["<global>","image","imagePeek"],"mappings":"AAA;OCgB;CD0D;AEK;CFE"},"hasCjsExports":false},"type":"js/module"}]}