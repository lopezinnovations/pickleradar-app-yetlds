{"dependencies":[{"name":"micromark-util-classify-character","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":53},"end":{"line":5,"column":67,"index":120}}],"key":"fxKDctrLOu6NjhLfrTWnDdI33TA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.encodeInfo = encodeInfo;\n  var _micromarkUtilClassifyCharacter = require(_dependencyMap[0], \"micromark-util-classify-character\");\n  /**\n   * @import {EncodeSides} from '../types.js'\n   */\n\n  /**\n   * Check whether to encode (as a character reference) the characters\n   * surrounding an attention run.\n   *\n   * Which characters are around an attention run influence whether it works or\n   * not.\n   *\n   * See <https://github.com/orgs/syntax-tree/discussions/60> for more info.\n   * See this markdown in a particular renderer to see what works:\n   *\n   * ```markdown\n   * |                         | A (letter inside) | B (punctuation inside) | C (whitespace inside) | D (nothing inside) |\n   * | ----------------------- | ----------------- | ---------------------- | --------------------- | ------------------ |\n   * | 1 (letter outside)      | x*y*z             | x*.*z                  | x* *z                 | x**z               |\n   * | 2 (punctuation outside) | .*y*.             | .*.*.                  | .* *.                 | .**.               |\n   * | 3 (whitespace outside)  | x *y* z           | x *.* z                | x * * z               | x ** z             |\n   * | 4 (nothing outside)     | *x*               | *.*                    | * *                   | **                 |\n   * ```\n   *\n   * @param {number} outside\n   *   Code point on the outer side of the run.\n   * @param {number} inside\n   *   Code point on the inner side of the run.\n   * @param {'*' | '_'} marker\n   *   Marker of the run.\n   *   Underscores are handled more strictly (they form less often) than\n   *   asterisks.\n   * @returns {EncodeSides}\n   *   Whether to encode characters.\n   */\n  // Important: punctuation must never be encoded.\n  // Punctuation is solely used by markdown constructs.\n  // And by encoding itself.\n  // Encoding them will break constructs or double encode things.\n  function encodeInfo(outside, inside, marker) {\n    const outsideKind = (0, _micromarkUtilClassifyCharacter.classifyCharacter)(outside);\n    const insideKind = (0, _micromarkUtilClassifyCharacter.classifyCharacter)(inside);\n\n    // Letter outside:\n    if (outsideKind === undefined) {\n      return insideKind === undefined ?\n      // Letter inside:\n      // we have to encode *both* letters for `_` as it is looser.\n      // it already forms for `*` (and GFMs `~`).\n      marker === '_' ? {\n        inside: true,\n        outside: true\n      } : {\n        inside: false,\n        outside: false\n      } : insideKind === 1 ?\n      // Whitespace inside: encode both (letter, whitespace).\n      {\n        inside: true,\n        outside: true\n      } :\n      // Punctuation inside: encode outer (letter)\n      {\n        inside: false,\n        outside: true\n      };\n    }\n\n    // Whitespace outside:\n    if (outsideKind === 1) {\n      return insideKind === undefined ?\n      // Letter inside: already forms.\n      {\n        inside: false,\n        outside: false\n      } : insideKind === 1 ?\n      // Whitespace inside: encode both (whitespace).\n      {\n        inside: true,\n        outside: true\n      } :\n      // Punctuation inside: already forms.\n      {\n        inside: false,\n        outside: false\n      };\n    }\n\n    // Punctuation outside:\n    return insideKind === undefined ?\n    // Letter inside: already forms.\n    {\n      inside: false,\n      outside: false\n    } : insideKind === 1 ?\n    // Whitespace inside: encode inner (whitespace).\n    {\n      inside: true,\n      outside: false\n    } :\n    // Punctuation inside: already forms.\n    {\n      inside: false,\n      outside: false\n    };\n  }\n});","lineCount":114,"map":[[7,2,41,0,"exports"],[7,9,41,0],[7,10,41,0,"encodeInfo"],[7,20,41,0],[7,23,41,0,"encodeInfo"],[7,33,41,0],[8,2,5,0],[8,6,5,0,"_micromarkUtilClassifyCharacter"],[8,37,5,0],[8,40,5,0,"require"],[8,47,5,0],[8,48,5,0,"_dependencyMap"],[8,62,5,0],[9,2,1,0],[10,0,2,0],[11,0,3,0],[13,2,7,0],[14,0,8,0],[15,0,9,0],[16,0,10,0],[17,0,11,0],[18,0,12,0],[19,0,13,0],[20,0,14,0],[21,0,15,0],[22,0,16,0],[23,0,17,0],[24,0,18,0],[25,0,19,0],[26,0,20,0],[27,0,21,0],[28,0,22,0],[29,0,23,0],[30,0,24,0],[31,0,25,0],[32,0,26,0],[33,0,27,0],[34,0,28,0],[35,0,29,0],[36,0,30,0],[37,0,31,0],[38,0,32,0],[39,0,33,0],[40,0,34,0],[41,0,35,0],[42,0,36,0],[43,2,37,0],[44,2,38,0],[45,2,39,0],[46,2,40,0],[47,2,41,7],[47,11,41,16,"encodeInfo"],[47,21,41,26,"encodeInfo"],[47,22,41,27,"outside"],[47,29,41,34],[47,31,41,36,"inside"],[47,37,41,42],[47,39,41,44,"marker"],[47,45,41,50],[47,47,41,52],[48,4,42,2],[48,10,42,8,"outsideKind"],[48,21,42,19],[48,24,42,22],[48,28,42,22,"classifyCharacter"],[48,59,42,39],[48,60,42,39,"classifyCharacter"],[48,77,42,39],[48,79,42,40,"outside"],[48,86,42,47],[48,87,42,48],[49,4,43,2],[49,10,43,8,"insideKind"],[49,20,43,18],[49,23,43,21],[49,27,43,21,"classifyCharacter"],[49,58,43,38],[49,59,43,38,"classifyCharacter"],[49,76,43,38],[49,78,43,39,"inside"],[49,84,43,45],[49,85,43,46],[51,4,45,2],[52,4,46,2],[52,8,46,6,"outsideKind"],[52,19,46,17],[52,24,46,22,"undefined"],[52,33,46,31],[52,35,46,33],[53,6,47,4],[53,13,47,11,"insideKind"],[53,23,47,21],[53,28,47,26,"undefined"],[53,37,47,35],[54,6,48,8],[55,6,49,8],[56,6,50,8],[57,6,51,8,"marker"],[57,12,51,14],[57,17,51,19],[57,20,51,22],[57,23,52,10],[58,8,52,11,"inside"],[58,14,52,17],[58,16,52,19],[58,20,52,23],[59,8,52,25,"outside"],[59,15,52,32],[59,17,52,34],[60,6,52,38],[60,7,52,39],[60,10,53,10],[61,8,53,11,"inside"],[61,14,53,17],[61,16,53,19],[61,21,53,24],[62,8,53,26,"outside"],[62,15,53,33],[62,17,53,35],[63,6,53,40],[63,7,53,41],[63,10,54,8,"insideKind"],[63,20,54,18],[63,25,54,23],[63,26,54,24],[64,6,55,10],[65,6,56,10],[66,8,56,11,"inside"],[66,14,56,17],[66,16,56,19],[66,20,56,23],[67,8,56,25,"outside"],[67,15,56,32],[67,17,56,34],[68,6,56,38],[68,7,56,39],[69,6,57,10],[70,6,58,10],[71,8,58,11,"inside"],[71,14,58,17],[71,16,58,19],[71,21,58,24],[72,8,58,26,"outside"],[72,15,58,33],[72,17,58,35],[73,6,58,39],[73,7,58,40],[74,4,59,2],[76,4,61,2],[77,4,62,2],[77,8,62,6,"outsideKind"],[77,19,62,17],[77,24,62,22],[77,25,62,23],[77,27,62,25],[78,6,63,4],[78,13,63,11,"insideKind"],[78,23,63,21],[78,28,63,26,"undefined"],[78,37,63,35],[79,6,64,8],[80,6,65,8],[81,8,65,9,"inside"],[81,14,65,15],[81,16,65,17],[81,21,65,22],[82,8,65,24,"outside"],[82,15,65,31],[82,17,65,33],[83,6,65,38],[83,7,65,39],[83,10,66,8,"insideKind"],[83,20,66,18],[83,25,66,23],[83,26,66,24],[84,6,67,10],[85,6,68,10],[86,8,68,11,"inside"],[86,14,68,17],[86,16,68,19],[86,20,68,23],[87,8,68,25,"outside"],[87,15,68,32],[87,17,68,34],[88,6,68,38],[88,7,68,39],[89,6,69,10],[90,6,70,10],[91,8,70,11,"inside"],[91,14,70,17],[91,16,70,19],[91,21,70,24],[92,8,70,26,"outside"],[92,15,70,33],[92,17,70,35],[93,6,70,40],[93,7,70,41],[94,4,71,2],[96,4,73,2],[97,4,74,2],[97,11,74,9,"insideKind"],[97,21,74,19],[97,26,74,24,"undefined"],[97,35,74,33],[98,4,75,6],[99,4,76,6],[100,6,76,7,"inside"],[100,12,76,13],[100,14,76,15],[100,19,76,20],[101,6,76,22,"outside"],[101,13,76,29],[101,15,76,31],[102,4,76,36],[102,5,76,37],[102,8,77,6,"insideKind"],[102,18,77,16],[102,23,77,21],[102,24,77,22],[103,4,78,8],[104,4,79,8],[105,6,79,9,"inside"],[105,12,79,15],[105,14,79,17],[105,18,79,21],[106,6,79,23,"outside"],[106,13,79,30],[106,15,79,32],[107,4,79,37],[107,5,79,38],[108,4,80,8],[109,4,81,8],[110,6,81,9,"inside"],[110,12,81,15],[110,14,81,17],[110,19,81,22],[111,6,81,24,"outside"],[111,13,81,31],[111,15,81,33],[112,4,81,38],[112,5,81,39],[113,2,82,0],[114,0,82,1],[114,3]],"functionMap":{"names":["<global>","encodeInfo"],"mappings":"AAA;OCwC;CDyC"},"hasCjsExports":false},"type":"js/module"}]}