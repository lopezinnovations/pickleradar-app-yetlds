{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.isCodeBlockClosed = isCodeBlockClosed;\n  exports.isComponentClosed = isComponentClosed;\n  /**\n   * Helpers to detect when special blocks are closed.\n   */\n  function isCodeBlockClosed(content) {\n    const lines = content.split('\\n');\n    if (lines.length < 2) return false;\n    const firstLine = lines[0];\n    const lastLine = lines[lines.length - 1];\n    const openMatch = firstLine.match(/^(`{3,}|~{3,})/);\n    if (!openMatch) return false;\n    const fence = openMatch[1];\n    const fenceChar = fence[0];\n    const fenceLen = fence.length;\n    const closePattern = new RegExp(`^${fenceChar}{${fenceLen},}\\\\s*$`);\n    return closePattern.test(lastLine);\n  }\n  function isComponentClosed(content) {\n    if (!content.startsWith('[{')) return false;\n    let braceDepth = 1;\n    let bracketDepth = 1;\n    let inString = false;\n    let escape = false;\n    for (let i = 2; i < content.length; i++) {\n      const char = content[i];\n      if (escape) {\n        escape = false;\n        continue;\n      }\n      if (char === '\\\\') {\n        escape = true;\n        continue;\n      }\n      if (char === '\"') {\n        inString = !inString;\n        continue;\n      }\n      if (inString) continue;\n      if (char === '{') braceDepth++;\n      if (char === '}') braceDepth--;\n      if (char === '[') bracketDepth++;\n      if (char === ']') bracketDepth--;\n      if (braceDepth === 0 && bracketDepth === 0 && i >= 1 && content[i - 1] === '}' && char === ']') {\n        return true;\n      }\n    }\n    return false;\n  }\n});","lineCount":56,"map":[[7,2,4,0,"exports"],[7,9,4,0],[7,10,4,0,"isCodeBlockClosed"],[7,27,4,0],[7,30,4,0,"isCodeBlockClosed"],[7,47,4,0],[8,2,19,0,"exports"],[8,9,19,0],[8,10,19,0,"isComponentClosed"],[8,27,19,0],[8,30,19,0,"isComponentClosed"],[8,47,19,0],[9,2,1,0],[10,0,2,0],[11,0,3,0],[12,2,4,7],[12,11,4,16,"isCodeBlockClosed"],[12,28,4,33,"isCodeBlockClosed"],[12,29,4,34,"content"],[12,36,4,41],[12,38,4,43],[13,4,5,4],[13,10,5,10,"lines"],[13,15,5,15],[13,18,5,18,"content"],[13,25,5,25],[13,26,5,26,"split"],[13,31,5,31],[13,32,5,32],[13,36,5,36],[13,37,5,37],[14,4,6,4],[14,8,6,8,"lines"],[14,13,6,13],[14,14,6,14,"length"],[14,20,6,20],[14,23,6,23],[14,24,6,24],[14,26,7,8],[14,33,7,15],[14,38,7,20],[15,4,8,4],[15,10,8,10,"firstLine"],[15,19,8,19],[15,22,8,22,"lines"],[15,27,8,27],[15,28,8,28],[15,29,8,29],[15,30,8,30],[16,4,9,4],[16,10,9,10,"lastLine"],[16,18,9,18],[16,21,9,21,"lines"],[16,26,9,26],[16,27,9,27,"lines"],[16,32,9,32],[16,33,9,33,"length"],[16,39,9,39],[16,42,9,42],[16,43,9,43],[16,44,9,44],[17,4,10,4],[17,10,10,10,"openMatch"],[17,19,10,19],[17,22,10,22,"firstLine"],[17,31,10,31],[17,32,10,32,"match"],[17,37,10,37],[17,38,10,38],[17,54,10,54],[17,55,10,55],[18,4,11,4],[18,8,11,8],[18,9,11,9,"openMatch"],[18,18,11,18],[18,20,12,8],[18,27,12,15],[18,32,12,20],[19,4,13,4],[19,10,13,10,"fence"],[19,15,13,15],[19,18,13,18,"openMatch"],[19,27,13,27],[19,28,13,28],[19,29,13,29],[19,30,13,30],[20,4,14,4],[20,10,14,10,"fenceChar"],[20,19,14,19],[20,22,14,22,"fence"],[20,27,14,27],[20,28,14,28],[20,29,14,29],[20,30,14,30],[21,4,15,4],[21,10,15,10,"fenceLen"],[21,18,15,18],[21,21,15,21,"fence"],[21,26,15,26],[21,27,15,27,"length"],[21,33,15,33],[22,4,16,4],[22,10,16,10,"closePattern"],[22,22,16,22],[22,25,16,25],[22,29,16,29,"RegExp"],[22,35,16,35],[22,36,16,36],[22,40,16,40,"fenceChar"],[22,49,16,49],[22,53,16,53,"fenceLen"],[22,61,16,61],[22,70,16,70],[22,71,16,71],[23,4,17,4],[23,11,17,11,"closePattern"],[23,23,17,23],[23,24,17,24,"test"],[23,28,17,28],[23,29,17,29,"lastLine"],[23,37,17,37],[23,38,17,38],[24,2,18,0],[25,2,19,7],[25,11,19,16,"isComponentClosed"],[25,28,19,33,"isComponentClosed"],[25,29,19,34,"content"],[25,36,19,41],[25,38,19,43],[26,4,20,4],[26,8,20,8],[26,9,20,9,"content"],[26,16,20,16],[26,17,20,17,"startsWith"],[26,27,20,27],[26,28,20,28],[26,32,20,32],[26,33,20,33],[26,35,21,8],[26,42,21,15],[26,47,21,20],[27,4,22,4],[27,8,22,8,"braceDepth"],[27,18,22,18],[27,21,22,21],[27,22,22,22],[28,4,23,4],[28,8,23,8,"bracketDepth"],[28,20,23,20],[28,23,23,23],[28,24,23,24],[29,4,24,4],[29,8,24,8,"inString"],[29,16,24,16],[29,19,24,19],[29,24,24,24],[30,4,25,4],[30,8,25,8,"escape"],[30,14,25,14],[30,17,25,17],[30,22,25,22],[31,4,26,4],[31,9,26,9],[31,13,26,13,"i"],[31,14,26,14],[31,17,26,17],[31,18,26,18],[31,20,26,20,"i"],[31,21,26,21],[31,24,26,24,"content"],[31,31,26,31],[31,32,26,32,"length"],[31,38,26,38],[31,40,26,40,"i"],[31,41,26,41],[31,43,26,43],[31,45,26,45],[32,6,27,8],[32,12,27,14,"char"],[32,16,27,18],[32,19,27,21,"content"],[32,26,27,28],[32,27,27,29,"i"],[32,28,27,30],[32,29,27,31],[33,6,28,8],[33,10,28,12,"escape"],[33,16,28,18],[33,18,28,20],[34,8,29,12,"escape"],[34,14,29,18],[34,17,29,21],[34,22,29,26],[35,8,30,12],[36,6,31,8],[37,6,32,8],[37,10,32,12,"char"],[37,14,32,16],[37,19,32,21],[37,23,32,25],[37,25,32,27],[38,8,33,12,"escape"],[38,14,33,18],[38,17,33,21],[38,21,33,25],[39,8,34,12],[40,6,35,8],[41,6,36,8],[41,10,36,12,"char"],[41,14,36,16],[41,19,36,21],[41,22,36,24],[41,24,36,26],[42,8,37,12,"inString"],[42,16,37,20],[42,19,37,23],[42,20,37,24,"inString"],[42,28,37,32],[43,8,38,12],[44,6,39,8],[45,6,40,8],[45,10,40,12,"inString"],[45,18,40,20],[45,20,41,12],[46,6,42,8],[46,10,42,12,"char"],[46,14,42,16],[46,19,42,21],[46,22,42,24],[46,24,43,12,"braceDepth"],[46,34,43,22],[46,36,43,24],[47,6,44,8],[47,10,44,12,"char"],[47,14,44,16],[47,19,44,21],[47,22,44,24],[47,24,45,12,"braceDepth"],[47,34,45,22],[47,36,45,24],[48,6,46,8],[48,10,46,12,"char"],[48,14,46,16],[48,19,46,21],[48,22,46,24],[48,24,47,12,"bracketDepth"],[48,36,47,24],[48,38,47,26],[49,6,48,8],[49,10,48,12,"char"],[49,14,48,16],[49,19,48,21],[49,22,48,24],[49,24,49,12,"bracketDepth"],[49,36,49,24],[49,38,49,26],[50,6,50,8],[50,10,50,12,"braceDepth"],[50,20,50,22],[50,25,50,27],[50,26,50,28],[50,30,51,12,"bracketDepth"],[50,42,51,24],[50,47,51,29],[50,48,51,30],[50,52,52,12,"i"],[50,53,52,13],[50,57,52,17],[50,58,52,18],[50,62,53,12,"content"],[50,69,53,19],[50,70,53,20,"i"],[50,71,53,21],[50,74,53,24],[50,75,53,25],[50,76,53,26],[50,81,53,31],[50,84,53,34],[50,88,54,12,"char"],[50,92,54,16],[50,97,54,21],[50,100,54,24],[50,102,54,26],[51,8,55,12],[51,15,55,19],[51,19,55,23],[52,6,56,8],[53,4,57,4],[54,4,58,4],[54,11,58,11],[54,16,58,16],[55,2,59,0],[56,0,59,1],[56,3]],"functionMap":{"names":["<global>","isCodeBlockClosed","isComponentClosed"],"mappings":"AAA;OCG;CDc;OEC;CFwC"},"hasCjsExports":false},"type":"js/module"}]}