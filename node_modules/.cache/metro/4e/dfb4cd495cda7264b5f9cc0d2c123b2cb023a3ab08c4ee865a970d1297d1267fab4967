{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"INITIAL_REGISTRY\", {\n    enumerable: true,\n    get: function () {\n      return INITIAL_REGISTRY;\n    }\n  });\n  exports.hashContent = hashContent;\n  exports.generateBlockId = generateBlockId;\n  /**\n   * Core Types for Streamdown-RN\n   *\n   * Block-based streaming markdown architecture.\n   * Optimized for append-only AI response streams.\n   */\n  /**\n   * Initial empty registry state\n   * Note: activeTagState is set to a literal to avoid circular dependency\n   */\n  const INITIAL_REGISTRY = {\n    blocks: [],\n    activeBlock: null,\n    activeTagState: {\n      stack: [],\n      tagCounts: {},\n      previousTextLength: 0,\n      earliestPosition: 0,\n      inCodeBlock: false,\n      inInlineCode: false\n    },\n    cursor: 0,\n    blockCounter: 0\n  };\n  // ============================================================================\n  // Utilities\n  // ============================================================================\n  /**\n   * Fast hash function (djb2) for content comparison.\n   * Used in React.memo to avoid deep equality checks.\n   */\n  function hashContent(str) {\n    let hash = 5381;\n    for (let i = 0; i < str.length; i++) {\n      hash = (hash << 5) + hash ^ str.charCodeAt(i);\n    }\n    return hash >>> 0; // Ensure unsigned\n  }\n  /**\n   * Generate a unique block ID\n   */\n  function generateBlockId(type, counter) {\n    const prefix = type === 'heading' ? 'h' : type === 'paragraph' ? 'p' : type === 'codeBlock' ? 'c' : type === 'list' ? 'l' : type === 'table' ? 't' : type === 'blockquote' ? 'q' : type === 'horizontalRule' ? 'hr' : type === 'image' ? 'img' : type === 'component' ? 'cmp' : 'b';\n    return `${prefix}-${counter}`;\n  }\n});","lineCount":60,"map":[[7,2,11,0,"Object"],[7,8,11,0],[7,9,11,0,"defineProperty"],[7,23,11,0],[7,24,11,0,"exports"],[7,31,11,0],[8,4,11,0,"enumerable"],[8,14,11,0],[9,4,11,0,"get"],[9,7,11,0],[9,18,11,0,"get"],[9,19,11,0],[10,6,11,0],[10,13,11,0,"INITIAL_REGISTRY"],[10,29,11,0],[11,4,11,0],[12,2,11,0],[13,2,32,0,"exports"],[13,9,32,0],[13,10,32,0,"hashContent"],[13,21,32,0],[13,24,32,0,"hashContent"],[13,35,32,0],[14,2,42,0,"exports"],[14,9,42,0],[14,10,42,0,"generateBlockId"],[14,25,42,0],[14,28,42,0,"generateBlockId"],[14,43,42,0],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,2,7,0],[22,0,8,0],[23,0,9,0],[24,0,10,0],[25,2,11,7],[25,8,11,13,"INITIAL_REGISTRY"],[25,24,11,29],[25,27,11,32],[26,4,12,4,"blocks"],[26,10,12,10],[26,12,12,12],[26,14,12,14],[27,4,13,4,"activeBlock"],[27,15,13,15],[27,17,13,17],[27,21,13,21],[28,4,14,4,"activeTagState"],[28,18,14,18],[28,20,14,20],[29,6,15,8,"stack"],[29,11,15,13],[29,13,15,15],[29,15,15,17],[30,6,16,8,"tagCounts"],[30,15,16,17],[30,17,16,19],[30,18,16,20],[30,19,16,21],[31,6,17,8,"previousTextLength"],[31,24,17,26],[31,26,17,28],[31,27,17,29],[32,6,18,8,"earliestPosition"],[32,22,18,24],[32,24,18,26],[32,25,18,27],[33,6,19,8,"inCodeBlock"],[33,17,19,19],[33,19,19,21],[33,24,19,26],[34,6,20,8,"inInlineCode"],[34,18,20,20],[34,20,20,22],[35,4,21,4],[35,5,21,5],[36,4,22,4,"cursor"],[36,10,22,10],[36,12,22,12],[36,13,22,13],[37,4,23,4,"blockCounter"],[37,16,23,16],[37,18,23,18],[38,2,24,0],[38,3,24,1],[39,2,25,0],[40,2,26,0],[41,2,27,0],[42,2,28,0],[43,0,29,0],[44,0,30,0],[45,0,31,0],[46,2,32,7],[46,11,32,16,"hashContent"],[46,22,32,27,"hashContent"],[46,23,32,28,"str"],[46,26,32,31],[46,28,32,33],[47,4,33,4],[47,8,33,8,"hash"],[47,12,33,12],[47,15,33,15],[47,19,33,19],[48,4,34,4],[48,9,34,9],[48,13,34,13,"i"],[48,14,34,14],[48,17,34,17],[48,18,34,18],[48,20,34,20,"i"],[48,21,34,21],[48,24,34,24,"str"],[48,27,34,27],[48,28,34,28,"length"],[48,34,34,34],[48,36,34,36,"i"],[48,37,34,37],[48,39,34,39],[48,41,34,41],[49,6,35,8,"hash"],[49,10,35,12],[49,13,35,16],[49,14,35,17,"hash"],[49,18,35,21],[49,22,35,25],[49,23,35,26],[49,27,35,30,"hash"],[49,31,35,34],[49,34,35,38,"str"],[49,37,35,41],[49,38,35,42,"charCodeAt"],[49,48,35,52],[49,49,35,53,"i"],[49,50,35,54],[49,51,35,55],[50,4,36,4],[51,4,37,4],[51,11,37,11,"hash"],[51,15,37,15],[51,20,37,20],[51,21,37,21],[51,22,37,22],[51,23,37,23],[52,2,38,0],[53,2,39,0],[54,0,40,0],[55,0,41,0],[56,2,42,7],[56,11,42,16,"generateBlockId"],[56,26,42,31,"generateBlockId"],[56,27,42,32,"type"],[56,31,42,36],[56,33,42,38,"counter"],[56,40,42,45],[56,42,42,47],[57,4,43,4],[57,10,43,10,"prefix"],[57,16,43,16],[57,19,43,19,"type"],[57,23,43,23],[57,28,43,28],[57,37,43,37],[57,40,43,40],[57,43,43,43],[57,46,44,8,"type"],[57,50,44,12],[57,55,44,17],[57,66,44,28],[57,69,44,31],[57,72,44,34],[57,75,45,12,"type"],[57,79,45,16],[57,84,45,21],[57,95,45,32],[57,98,45,35],[57,101,45,38],[57,104,46,16,"type"],[57,108,46,20],[57,113,46,25],[57,119,46,31],[57,122,46,34],[57,125,46,37],[57,128,47,20,"type"],[57,132,47,24],[57,137,47,29],[57,144,47,36],[57,147,47,39],[57,150,47,42],[57,153,48,24,"type"],[57,157,48,28],[57,162,48,33],[57,174,48,45],[57,177,48,48],[57,180,48,51],[57,183,49,28,"type"],[57,187,49,32],[57,192,49,37],[57,208,49,53],[57,211,49,56],[57,215,49,60],[57,218,50,32,"type"],[57,222,50,36],[57,227,50,41],[57,234,50,48],[57,237,50,51],[57,242,50,56],[57,245,51,36,"type"],[57,249,51,40],[57,254,51,45],[57,265,51,56],[57,268,51,59],[57,273,51,64],[57,276,51,67],[57,279,51,70],[58,4,52,4],[58,11,52,11],[58,14,52,14,"prefix"],[58,20,52,20],[58,24,52,24,"counter"],[58,31,52,31],[58,33,52,33],[59,2,53,0],[60,0,53,1],[60,3]],"functionMap":{"names":["<global>","hashContent","generateBlockId"],"mappings":"AAA;OC+B;CDM;OEI;CFW"},"hasCjsExports":false},"type":"js/module"}]}