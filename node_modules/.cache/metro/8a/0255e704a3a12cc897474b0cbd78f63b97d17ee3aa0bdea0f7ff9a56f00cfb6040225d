{"dependencies":[{"name":"decode-named-character-reference","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":131},"end":{"line":11,"column":81,"index":212}}],"key":"4bn2wa0nsWE72m50RgfhqBdFc9A=","exportNames":["*"],"imports":1}},{"name":"micromark-util-character","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":213},"end":{"line":12,"column":88,"index":301}}],"key":"svVs0p+xNPi/kEX20rLm/snhtB4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"characterReference\", {\n    enumerable: true,\n    get: function () {\n      return characterReference;\n    }\n  });\n  var _decodeNamedCharacterReference = require(_dependencyMap[0], \"decode-named-character-reference\");\n  var _micromarkUtilCharacter = require(_dependencyMap[1], \"micromark-util-character\");\n  /**\n   * @import {\n   *   Code,\n   *   Construct,\n   *   State,\n   *   TokenizeContext,\n   *   Tokenizer\n   * } from 'micromark-util-types'\n   */\n\n  /** @type {Construct} */\n  const characterReference = {\n    name: 'characterReference',\n    tokenize: tokenizeCharacterReference\n  };\n\n  /**\n   * @this {TokenizeContext}\n   *   Context.\n   * @type {Tokenizer}\n   */\n  function tokenizeCharacterReference(effects, ok, nok) {\n    const self = this;\n    let size = 0;\n    /** @type {number} */\n    let max;\n    /** @type {(code: Code) => boolean} */\n    let test;\n    return start;\n\n    /**\n     * Start of character reference.\n     *\n     * ```markdown\n     * > | a&amp;b\n     *      ^\n     * > | a&#123;b\n     *      ^\n     * > | a&#x9;b\n     *      ^\n     * ```\n     *\n     * @type {State}\n     */\n    function start(code) {\n      effects.enter(\"characterReference\");\n      effects.enter(\"characterReferenceMarker\");\n      effects.consume(code);\n      effects.exit(\"characterReferenceMarker\");\n      return open;\n    }\n\n    /**\n     * After `&`, at `#` for numeric references or alphanumeric for named\n     * references.\n     *\n     * ```markdown\n     * > | a&amp;b\n     *       ^\n     * > | a&#123;b\n     *       ^\n     * > | a&#x9;b\n     *       ^\n     * ```\n     *\n     * @type {State}\n     */\n    function open(code) {\n      if (code === 35) {\n        effects.enter(\"characterReferenceMarkerNumeric\");\n        effects.consume(code);\n        effects.exit(\"characterReferenceMarkerNumeric\");\n        return numeric;\n      }\n      effects.enter(\"characterReferenceValue\");\n      max = 31;\n      test = _micromarkUtilCharacter.asciiAlphanumeric;\n      return value(code);\n    }\n\n    /**\n     * After `#`, at `x` for hexadecimals or digit for decimals.\n     *\n     * ```markdown\n     * > | a&#123;b\n     *        ^\n     * > | a&#x9;b\n     *        ^\n     * ```\n     *\n     * @type {State}\n     */\n    function numeric(code) {\n      if (code === 88 || code === 120) {\n        effects.enter(\"characterReferenceMarkerHexadecimal\");\n        effects.consume(code);\n        effects.exit(\"characterReferenceMarkerHexadecimal\");\n        effects.enter(\"characterReferenceValue\");\n        max = 6;\n        test = _micromarkUtilCharacter.asciiHexDigit;\n        return value;\n      }\n      effects.enter(\"characterReferenceValue\");\n      max = 7;\n      test = _micromarkUtilCharacter.asciiDigit;\n      return value(code);\n    }\n\n    /**\n     * After markers (`&#x`, `&#`, or `&`), in value, before `;`.\n     *\n     * The character reference kind defines what and how many characters are\n     * allowed.\n     *\n     * ```markdown\n     * > | a&amp;b\n     *       ^^^\n     * > | a&#123;b\n     *        ^^^\n     * > | a&#x9;b\n     *         ^\n     * ```\n     *\n     * @type {State}\n     */\n    function value(code) {\n      if (code === 59 && size) {\n        const token = effects.exit(\"characterReferenceValue\");\n        if (test === _micromarkUtilCharacter.asciiAlphanumeric && !(0, _decodeNamedCharacterReference.decodeNamedCharacterReference)(self.sliceSerialize(token))) {\n          return nok(code);\n        }\n\n        // To do: `markdown-rs` uses a different name:\n        // `CharacterReferenceMarkerSemi`.\n        effects.enter(\"characterReferenceMarker\");\n        effects.consume(code);\n        effects.exit(\"characterReferenceMarker\");\n        effects.exit(\"characterReference\");\n        return ok;\n      }\n      if (test(code) && size++ < max) {\n        effects.consume(code);\n        return value;\n      }\n      return nok(code);\n    }\n  }\n});","lineCount":162,"map":[[7,2,14,0,"Object"],[7,8,14,0],[7,9,14,0,"defineProperty"],[7,23,14,0],[7,24,14,0,"exports"],[7,31,14,0],[8,4,14,0,"enumerable"],[8,14,14,0],[9,4,14,0,"get"],[9,7,14,0],[9,18,14,0,"get"],[9,19,14,0],[10,6,14,0],[10,13,14,0,"characterReference"],[10,31,14,0],[11,4,14,0],[12,2,14,0],[13,2,11,0],[13,6,11,0,"_decodeNamedCharacterReference"],[13,36,11,0],[13,39,11,0,"require"],[13,46,11,0],[13,47,11,0,"_dependencyMap"],[13,61,11,0],[14,2,12,0],[14,6,12,0,"_micromarkUtilCharacter"],[14,29,12,0],[14,32,12,0,"require"],[14,39,12,0],[14,40,12,0,"_dependencyMap"],[14,54,12,0],[15,2,1,0],[16,0,2,0],[17,0,3,0],[18,0,4,0],[19,0,5,0],[20,0,6,0],[21,0,7,0],[22,0,8,0],[23,0,9,0],[25,2,13,0],[26,2,14,7],[26,8,14,13,"characterReference"],[26,26,14,31],[26,29,14,34],[27,4,15,2,"name"],[27,8,15,6],[27,10,15,8],[27,30,15,28],[28,4,16,2,"tokenize"],[28,12,16,10],[28,14,16,12,"tokenizeCharacterReference"],[29,2,17,0],[29,3,17,1],[31,2,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,2,24,0],[36,11,24,9,"tokenizeCharacterReference"],[36,37,24,35,"tokenizeCharacterReference"],[36,38,24,36,"effects"],[36,45,24,43],[36,47,24,45,"ok"],[36,49,24,47],[36,51,24,49,"nok"],[36,54,24,52],[36,56,24,54],[37,4,25,2],[37,10,25,8,"self"],[37,14,25,12],[37,17,25,15],[37,21,25,19],[38,4,26,2],[38,8,26,6,"size"],[38,12,26,10],[38,15,26,13],[38,16,26,14],[39,4,27,2],[40,4,28,2],[40,8,28,6,"max"],[40,11,28,9],[41,4,29,2],[42,4,30,2],[42,8,30,6,"test"],[42,12,30,10],[43,4,31,2],[43,11,31,9,"start"],[43,16,31,14],[45,4,33,2],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,0,37,0],[50,0,38,0],[51,0,39,0],[52,0,40,0],[53,0,41,0],[54,0,42,0],[55,0,43,0],[56,0,44,0],[57,0,45,0],[58,0,46,0],[59,4,47,2],[59,13,47,11,"start"],[59,18,47,16,"start"],[59,19,47,17,"code"],[59,23,47,21],[59,25,47,23],[60,6,48,4,"effects"],[60,13,48,11],[60,14,48,12,"enter"],[60,19,48,17],[60,20,48,18],[60,40,48,38],[60,41,48,39],[61,6,49,4,"effects"],[61,13,49,11],[61,14,49,12,"enter"],[61,19,49,17],[61,20,49,18],[61,46,49,44],[61,47,49,45],[62,6,50,4,"effects"],[62,13,50,11],[62,14,50,12,"consume"],[62,21,50,19],[62,22,50,20,"code"],[62,26,50,24],[62,27,50,25],[63,6,51,4,"effects"],[63,13,51,11],[63,14,51,12,"exit"],[63,18,51,16],[63,19,51,17],[63,45,51,43],[63,46,51,44],[64,6,52,4],[64,13,52,11,"open"],[64,17,52,15],[65,4,53,2],[67,4,55,2],[68,0,56,0],[69,0,57,0],[70,0,58,0],[71,0,59,0],[72,0,60,0],[73,0,61,0],[74,0,62,0],[75,0,63,0],[76,0,64,0],[77,0,65,0],[78,0,66,0],[79,0,67,0],[80,0,68,0],[81,0,69,0],[82,4,70,2],[82,13,70,11,"open"],[82,17,70,15,"open"],[82,18,70,16,"code"],[82,22,70,20],[82,24,70,22],[83,6,71,4],[83,10,71,8,"code"],[83,14,71,12],[83,19,71,17],[83,21,71,19],[83,23,71,21],[84,8,72,6,"effects"],[84,15,72,13],[84,16,72,14,"enter"],[84,21,72,19],[84,22,72,20],[84,55,72,53],[84,56,72,54],[85,8,73,6,"effects"],[85,15,73,13],[85,16,73,14,"consume"],[85,23,73,21],[85,24,73,22,"code"],[85,28,73,26],[85,29,73,27],[86,8,74,6,"effects"],[86,15,74,13],[86,16,74,14,"exit"],[86,20,74,18],[86,21,74,19],[86,54,74,52],[86,55,74,53],[87,8,75,6],[87,15,75,13,"numeric"],[87,22,75,20],[88,6,76,4],[89,6,77,4,"effects"],[89,13,77,11],[89,14,77,12,"enter"],[89,19,77,17],[89,20,77,18],[89,45,77,43],[89,46,77,44],[90,6,78,4,"max"],[90,9,78,7],[90,12,78,10],[90,14,78,12],[91,6,79,4,"test"],[91,10,79,8],[91,13,79,11,"asciiAlphanumeric"],[91,36,79,28],[91,37,79,28,"asciiAlphanumeric"],[91,54,79,28],[92,6,80,4],[92,13,80,11,"value"],[92,18,80,16],[92,19,80,17,"code"],[92,23,80,21],[92,24,80,22],[93,4,81,2],[95,4,83,2],[96,0,84,0],[97,0,85,0],[98,0,86,0],[99,0,87,0],[100,0,88,0],[101,0,89,0],[102,0,90,0],[103,0,91,0],[104,0,92,0],[105,0,93,0],[106,0,94,0],[107,4,95,2],[107,13,95,11,"numeric"],[107,20,95,18,"numeric"],[107,21,95,19,"code"],[107,25,95,23],[107,27,95,25],[108,6,96,4],[108,10,96,8,"code"],[108,14,96,12],[108,19,96,17],[108,21,96,19],[108,25,96,23,"code"],[108,29,96,27],[108,34,96,32],[108,37,96,35],[108,39,96,37],[109,8,97,6,"effects"],[109,15,97,13],[109,16,97,14,"enter"],[109,21,97,19],[109,22,97,20],[109,59,97,57],[109,60,97,58],[110,8,98,6,"effects"],[110,15,98,13],[110,16,98,14,"consume"],[110,23,98,21],[110,24,98,22,"code"],[110,28,98,26],[110,29,98,27],[111,8,99,6,"effects"],[111,15,99,13],[111,16,99,14,"exit"],[111,20,99,18],[111,21,99,19],[111,58,99,56],[111,59,99,57],[112,8,100,6,"effects"],[112,15,100,13],[112,16,100,14,"enter"],[112,21,100,19],[112,22,100,20],[112,47,100,45],[112,48,100,46],[113,8,101,6,"max"],[113,11,101,9],[113,14,101,12],[113,15,101,13],[114,8,102,6,"test"],[114,12,102,10],[114,15,102,13,"asciiHexDigit"],[114,38,102,26],[114,39,102,26,"asciiHexDigit"],[114,52,102,26],[115,8,103,6],[115,15,103,13,"value"],[115,20,103,18],[116,6,104,4],[117,6,105,4,"effects"],[117,13,105,11],[117,14,105,12,"enter"],[117,19,105,17],[117,20,105,18],[117,45,105,43],[117,46,105,44],[118,6,106,4,"max"],[118,9,106,7],[118,12,106,10],[118,13,106,11],[119,6,107,4,"test"],[119,10,107,8],[119,13,107,11,"asciiDigit"],[119,36,107,21],[119,37,107,21,"asciiDigit"],[119,47,107,21],[120,6,108,4],[120,13,108,11,"value"],[120,18,108,16],[120,19,108,17,"code"],[120,23,108,21],[120,24,108,22],[121,4,109,2],[123,4,111,2],[124,0,112,0],[125,0,113,0],[126,0,114,0],[127,0,115,0],[128,0,116,0],[129,0,117,0],[130,0,118,0],[131,0,119,0],[132,0,120,0],[133,0,121,0],[134,0,122,0],[135,0,123,0],[136,0,124,0],[137,0,125,0],[138,0,126,0],[139,0,127,0],[140,4,128,2],[140,13,128,11,"value"],[140,18,128,16,"value"],[140,19,128,17,"code"],[140,23,128,21],[140,25,128,23],[141,6,129,4],[141,10,129,8,"code"],[141,14,129,12],[141,19,129,17],[141,21,129,19],[141,25,129,23,"size"],[141,29,129,27],[141,31,129,29],[142,8,130,6],[142,14,130,12,"token"],[142,19,130,17],[142,22,130,20,"effects"],[142,29,130,27],[142,30,130,28,"exit"],[142,34,130,32],[142,35,130,33],[142,60,130,58],[142,61,130,59],[143,8,131,6],[143,12,131,10,"test"],[143,16,131,14],[143,21,131,19,"asciiAlphanumeric"],[143,44,131,36],[143,45,131,36,"asciiAlphanumeric"],[143,62,131,36],[143,66,131,40],[143,67,131,41],[143,71,131,41,"decodeNamedCharacterReference"],[143,101,131,70],[143,102,131,70,"decodeNamedCharacterReference"],[143,131,131,70],[143,133,131,71,"self"],[143,137,131,75],[143,138,131,76,"sliceSerialize"],[143,152,131,90],[143,153,131,91,"token"],[143,158,131,96],[143,159,131,97],[143,160,131,98],[143,162,131,100],[144,10,132,8],[144,17,132,15,"nok"],[144,20,132,18],[144,21,132,19,"code"],[144,25,132,23],[144,26,132,24],[145,8,133,6],[147,8,135,6],[148,8,136,6],[149,8,137,6,"effects"],[149,15,137,13],[149,16,137,14,"enter"],[149,21,137,19],[149,22,137,20],[149,48,137,46],[149,49,137,47],[150,8,138,6,"effects"],[150,15,138,13],[150,16,138,14,"consume"],[150,23,138,21],[150,24,138,22,"code"],[150,28,138,26],[150,29,138,27],[151,8,139,6,"effects"],[151,15,139,13],[151,16,139,14,"exit"],[151,20,139,18],[151,21,139,19],[151,47,139,45],[151,48,139,46],[152,8,140,6,"effects"],[152,15,140,13],[152,16,140,14,"exit"],[152,20,140,18],[152,21,140,19],[152,41,140,39],[152,42,140,40],[153,8,141,6],[153,15,141,13,"ok"],[153,17,141,15],[154,6,142,4],[155,6,143,4],[155,10,143,8,"test"],[155,14,143,12],[155,15,143,13,"code"],[155,19,143,17],[155,20,143,18],[155,24,143,22,"size"],[155,28,143,26],[155,30,143,28],[155,33,143,31,"max"],[155,36,143,34],[155,38,143,36],[156,8,144,6,"effects"],[156,15,144,13],[156,16,144,14,"consume"],[156,23,144,21],[156,24,144,22,"code"],[156,28,144,26],[156,29,144,27],[157,8,145,6],[157,15,145,13,"value"],[157,20,145,18],[158,6,146,4],[159,6,147,4],[159,13,147,11,"nok"],[159,16,147,14],[159,17,147,15,"code"],[159,21,147,19],[159,22,147,20],[160,4,148,2],[161,2,149,0],[162,0,149,1],[162,3]],"functionMap":{"names":["<global>","tokenizeCharacterReference","start","open","numeric","value"],"mappings":"AAA;ACuB;ECuB;GDM;EEiB;GFW;EGc;GHc;EImB;GJoB"},"hasCjsExports":false},"type":"js/module"}]}