{"dependencies":[{"name":"../util/encode-character-reference.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":107},"end":{"line":6,"column":78,"index":185}}],"key":"zcrsQiHx6IYm2Da7cCMxvVCHwxk=","exportNames":["*"],"imports":1}},{"name":"../util/format-heading-as-setext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":186},"end":{"line":7,"column":73,"index":259}}],"key":"Hi/o7j6C0RhWf+z84DEbUy2kUM8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.heading = heading;\n  var _utilEncodeCharacterReferenceJs = require(_dependencyMap[0], \"../util/encode-character-reference.js\");\n  var _utilFormatHeadingAsSetextJs = require(_dependencyMap[1], \"../util/format-heading-as-setext.js\");\n  /**\n   * @import {Info, State} from 'mdast-util-to-markdown'\n   * @import {Heading, Parents} from 'mdast'\n   */\n\n  /**\n   * @param {Heading} node\n   * @param {Parents | undefined} _\n   * @param {State} state\n   * @param {Info} info\n   * @returns {string}\n   */\n  function heading(node, _, state, info) {\n    const rank = Math.max(Math.min(6, node.depth || 1), 1);\n    const tracker = state.createTracker(info);\n    if ((0, _utilFormatHeadingAsSetextJs.formatHeadingAsSetext)(node, state)) {\n      const exit = state.enter('headingSetext');\n      const subexit = state.enter('phrasing');\n      const value = state.containerPhrasing(node, {\n        ...tracker.current(),\n        before: '\\n',\n        after: '\\n'\n      });\n      subexit();\n      exit();\n      return value + '\\n' + (rank === 1 ? '=' : '-').repeat(\n      // The whole size…\n      value.length - (\n      // Minus the position of the character after the last EOL (or\n      // 0 if there is none)…\n      Math.max(value.lastIndexOf('\\r'), value.lastIndexOf('\\n')) + 1));\n    }\n    const sequence = '#'.repeat(rank);\n    const exit = state.enter('headingAtx');\n    const subexit = state.enter('phrasing');\n\n    // Note: for proper tracking, we should reset the output positions when there\n    // is no content returned, because then the space is not output.\n    // Practically, in that case, there is no content, so it doesn’t matter that\n    // we’ve tracked one too many characters.\n    tracker.move(sequence + ' ');\n    let value = state.containerPhrasing(node, {\n      before: '# ',\n      after: '\\n',\n      ...tracker.current()\n    });\n    if (/^[\\t ]/.test(value)) {\n      // To do: what effect has the character reference on tracking?\n      value = (0, _utilEncodeCharacterReferenceJs.encodeCharacterReference)(value.charCodeAt(0)) + value.slice(1);\n    }\n    value = value ? sequence + ' ' + value : sequence;\n    if (state.options.closeAtx) {\n      value += ' ' + sequence;\n    }\n    subexit();\n    exit();\n    return value;\n  }\n});","lineCount":68,"map":[[7,2,16,0,"exports"],[7,9,16,0],[7,10,16,0,"heading"],[7,17,16,0],[7,20,16,0,"heading"],[7,27,16,0],[8,2,6,0],[8,6,6,0,"_utilEncodeCharacterReferenceJs"],[8,37,6,0],[8,40,6,0,"require"],[8,47,6,0],[8,48,6,0,"_dependencyMap"],[8,62,6,0],[9,2,7,0],[9,6,7,0,"_utilFormatHeadingAsSetextJs"],[9,34,7,0],[9,37,7,0,"require"],[9,44,7,0],[9,45,7,0,"_dependencyMap"],[9,59,7,0],[10,2,1,0],[11,0,2,0],[12,0,3,0],[13,0,4,0],[15,2,9,0],[16,0,10,0],[17,0,11,0],[18,0,12,0],[19,0,13,0],[20,0,14,0],[21,0,15,0],[22,2,16,7],[22,11,16,16,"heading"],[22,18,16,23,"heading"],[22,19,16,24,"node"],[22,23,16,28],[22,25,16,30,"_"],[22,26,16,31],[22,28,16,33,"state"],[22,33,16,38],[22,35,16,40,"info"],[22,39,16,44],[22,41,16,46],[23,4,17,2],[23,10,17,8,"rank"],[23,14,17,12],[23,17,17,15,"Math"],[23,21,17,19],[23,22,17,20,"max"],[23,25,17,23],[23,26,17,24,"Math"],[23,30,17,28],[23,31,17,29,"min"],[23,34,17,32],[23,35,17,33],[23,36,17,34],[23,38,17,36,"node"],[23,42,17,40],[23,43,17,41,"depth"],[23,48,17,46],[23,52,17,50],[23,53,17,51],[23,54,17,52],[23,56,17,54],[23,57,17,55],[23,58,17,56],[24,4,18,2],[24,10,18,8,"tracker"],[24,17,18,15],[24,20,18,18,"state"],[24,25,18,23],[24,26,18,24,"createTracker"],[24,39,18,37],[24,40,18,38,"info"],[24,44,18,42],[24,45,18,43],[25,4,20,2],[25,8,20,6],[25,12,20,6,"formatHeadingAsSetext"],[25,40,20,27],[25,41,20,27,"formatHeadingAsSetext"],[25,62,20,27],[25,64,20,28,"node"],[25,68,20,32],[25,70,20,34,"state"],[25,75,20,39],[25,76,20,40],[25,78,20,42],[26,6,21,4],[26,12,21,10,"exit"],[26,16,21,14],[26,19,21,17,"state"],[26,24,21,22],[26,25,21,23,"enter"],[26,30,21,28],[26,31,21,29],[26,46,21,44],[26,47,21,45],[27,6,22,4],[27,12,22,10,"subexit"],[27,19,22,17],[27,22,22,20,"state"],[27,27,22,25],[27,28,22,26,"enter"],[27,33,22,31],[27,34,22,32],[27,44,22,42],[27,45,22,43],[28,6,23,4],[28,12,23,10,"value"],[28,17,23,15],[28,20,23,18,"state"],[28,25,23,23],[28,26,23,24,"containerPhrasing"],[28,43,23,41],[28,44,23,42,"node"],[28,48,23,46],[28,50,23,48],[29,8,24,6],[29,11,24,9,"tracker"],[29,18,24,16],[29,19,24,17,"current"],[29,26,24,24],[29,27,24,25],[29,28,24,26],[30,8,25,6,"before"],[30,14,25,12],[30,16,25,14],[30,20,25,18],[31,8,26,6,"after"],[31,13,26,11],[31,15,26,13],[32,6,27,4],[32,7,27,5],[32,8,27,6],[33,6,28,4,"subexit"],[33,13,28,11],[33,14,28,12],[33,15,28,13],[34,6,29,4,"exit"],[34,10,29,8],[34,11,29,9],[34,12,29,10],[35,6,31,4],[35,13,32,6,"value"],[35,18,32,11],[35,21,33,6],[35,25,33,10],[35,28,34,6],[35,29,34,7,"rank"],[35,33,34,11],[35,38,34,16],[35,39,34,17],[35,42,34,20],[35,45,34,23],[35,48,34,26],[35,51,34,29],[35,53,34,31,"repeat"],[35,59,34,37],[36,6,35,8],[37,6,36,8,"value"],[37,11,36,13],[37,12,36,14,"length"],[37,18,36,20],[38,6,37,10],[39,6,38,10],[40,6,39,11,"Math"],[40,10,39,15],[40,11,39,16,"max"],[40,14,39,19],[40,15,39,20,"value"],[40,20,39,25],[40,21,39,26,"lastIndexOf"],[40,32,39,37],[40,33,39,38],[40,37,39,42],[40,38,39,43],[40,40,39,45,"value"],[40,45,39,50],[40,46,39,51,"lastIndexOf"],[40,57,39,62],[40,58,39,63],[40,62,39,67],[40,63,39,68],[40,64,39,69],[40,67,39,72],[40,68,39,73],[40,69,40,6],[40,70,40,7],[41,4,42,2],[42,4,44,2],[42,10,44,8,"sequence"],[42,18,44,16],[42,21,44,19],[42,24,44,22],[42,25,44,23,"repeat"],[42,31,44,29],[42,32,44,30,"rank"],[42,36,44,34],[42,37,44,35],[43,4,45,2],[43,10,45,8,"exit"],[43,14,45,12],[43,17,45,15,"state"],[43,22,45,20],[43,23,45,21,"enter"],[43,28,45,26],[43,29,45,27],[43,41,45,39],[43,42,45,40],[44,4,46,2],[44,10,46,8,"subexit"],[44,17,46,15],[44,20,46,18,"state"],[44,25,46,23],[44,26,46,24,"enter"],[44,31,46,29],[44,32,46,30],[44,42,46,40],[44,43,46,41],[46,4,48,2],[47,4,49,2],[48,4,50,2],[49,4,51,2],[50,4,52,2,"tracker"],[50,11,52,9],[50,12,52,10,"move"],[50,16,52,14],[50,17,52,15,"sequence"],[50,25,52,23],[50,28,52,26],[50,31,52,29],[50,32,52,30],[51,4,54,2],[51,8,54,6,"value"],[51,13,54,11],[51,16,54,14,"state"],[51,21,54,19],[51,22,54,20,"containerPhrasing"],[51,39,54,37],[51,40,54,38,"node"],[51,44,54,42],[51,46,54,44],[52,6,55,4,"before"],[52,12,55,10],[52,14,55,12],[52,18,55,16],[53,6,56,4,"after"],[53,11,56,9],[53,13,56,11],[53,17,56,15],[54,6,57,4],[54,9,57,7,"tracker"],[54,16,57,14],[54,17,57,15,"current"],[54,24,57,22],[54,25,57,23],[55,4,58,2],[55,5,58,3],[55,6,58,4],[56,4,60,2],[56,8,60,6],[56,16,60,14],[56,17,60,15,"test"],[56,21,60,19],[56,22,60,20,"value"],[56,27,60,25],[56,28,60,26],[56,30,60,28],[57,6,61,4],[58,6,62,4,"value"],[58,11,62,9],[58,14,62,12],[58,18,62,12,"encodeCharacterReference"],[58,49,62,36],[58,50,62,36,"encodeCharacterReference"],[58,74,62,36],[58,76,62,37,"value"],[58,81,62,42],[58,82,62,43,"charCodeAt"],[58,92,62,53],[58,93,62,54],[58,94,62,55],[58,95,62,56],[58,96,62,57],[58,99,62,60,"value"],[58,104,62,65],[58,105,62,66,"slice"],[58,110,62,71],[58,111,62,72],[58,112,62,73],[58,113,62,74],[59,4,63,2],[60,4,65,2,"value"],[60,9,65,7],[60,12,65,10,"value"],[60,17,65,15],[60,20,65,18,"sequence"],[60,28,65,26],[60,31,65,29],[60,34,65,32],[60,37,65,35,"value"],[60,42,65,40],[60,45,65,43,"sequence"],[60,53,65,51],[61,4,67,2],[61,8,67,6,"state"],[61,13,67,11],[61,14,67,12,"options"],[61,21,67,19],[61,22,67,20,"closeAtx"],[61,30,67,28],[61,32,67,30],[62,6,68,4,"value"],[62,11,68,9],[62,15,68,13],[62,18,68,16],[62,21,68,19,"sequence"],[62,29,68,27],[63,4,69,2],[64,4,71,2,"subexit"],[64,11,71,9],[64,12,71,10],[64,13,71,11],[65,4,72,2,"exit"],[65,8,72,6],[65,9,72,7],[65,10,72,8],[66,4,74,2],[66,11,74,9,"value"],[66,16,74,14],[67,2,75,0],[68,0,75,1],[68,3]],"functionMap":{"names":["<global>","heading"],"mappings":"AAA;OCe;CD2D"},"hasCjsExports":false},"type":"js/module"}]}